<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>PLUMED: Analysis</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script>
   var redpath = "";
   
   function showPath(eg,name) {
     var i; var y = document.getElementsByName(redpath);
     for (i=0; i < y.length; i++ ) { y[i].style.color="black"; }
     var x = document.getElementsByName(name); redpath=name;
     for (i = 0; i < x.length; i++) { x[i].style.color="red"; }
     var valid="value_details_".concat(eg);
     var valueField = document.getElementById(valid);
     var dataField = document.getElementById(name);
     valueField.innerHTML = dataField.innerHTML;
   }
   function swapInput(name) {
     var btn = document.getElementById(name + "_button");
     var mydiv = document.getElementById("input_" + name);
     if( btn.textContent=="expand shortcuts" ) {
         btn.textContent = "contract shortcuts";
         var dataField = document.getElementById(name + "long");
         mydiv.innerHTML = dataField.innerHTML;
     } else if( btn.textContent=="contract shortcuts" ) {
         btn.textContent = "expand shortcuts";
         var dataField = document.getElementById(name + "short");
         mydiv.innerHTML = dataField.innerHTML;
     }
   }
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.11.0-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_analysis.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Analysis </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>PLUMED can be used to analyze trajectories either on the fly during an MD run or via post processing a trajectory using <a class="el" href="driver.html">driver</a>. A molecular dynamics trajectory is in essence an ordered set of configurations of atoms. Trajectory analysis algorithms are methods that allow us to extract meaningful information from this extremely high-dimensionality information. In extracting this information much of the information in the trajectory will be discarded and assumed to be irrelevant to the problem at hand. For example, when we calculate a histogram from a trajectory we throw away all information on the order the frames were visited during the trajectory. We instead opt to display a time average that shows the parts of configuration space that were <br  />
 visited most frequently. There are many situations in which this is a reasonable thing to do as we know that time averages are equivalent to ensemble averages in the long timescale limit and that these average probabilities of being in different parts of configuration space, \(P(s)\), are thus related to the underlying free energy, \(F(s)\), via: </p><p class="formulaDsp">
\[ F(s) = - k_B T \ln P(s) \]
</p>
<p> About the simplest form of analysis that PLUMED can perform involves printing information to a file. PLUMED can output various different kinds of information to files as described below:</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><a class="el" href="_c_o_m_m_i_t_t_o_r.html">COMMITTOR</a>  </td><td>Does a committor analysis.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_d_u_m_p_a_t_o_m_s.html">DUMPATOMS</a>  </td><td>Dump selected atoms on a file.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_d_u_m_p_d_e_r_i_v_a_t_i_v_e_s.html">DUMPDERIVATIVES</a>  </td><td>Dump the derivatives with respect to the input parameters for one or more objects (generally CVs, functions or biases).  </td></tr>
<tr>
<td width="5%"><a class="el" href="_d_u_m_p_f_o_r_c_e_s.html">DUMPFORCES</a>  </td><td>Dump the force acting on one of a values in a file.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_d_u_m_p_m_a_s_s_c_h_a_r_g_e.html">DUMPMASSCHARGE</a>  </td><td>Dump masses and charges on a selected file.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_d_u_m_p_p_d_b.html">DUMPPDB</a>  </td><td>Output PDB file.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_d_u_m_p_p_r_o_j_e_c_t_i_o_n_s.html">DUMPPROJECTIONS</a>  </td><td>Dump the derivatives with respect to the input parameters for one or more objects (generally CVs, functions or biases).  </td></tr>
<tr>
<td width="5%"><a class="el" href="_d_u_m_p_v_e_c_t_o_r.html">DUMPVECTOR</a>  </td><td>Print a vector to a file  </td></tr>
<tr>
<td width="5%"><a class="el" href="_p_r_i_n_t.html">PRINT</a>  </td><td>Print quantities to a file.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_p_r_i_n_t__n_d_x.html">PRINT_NDX</a>  </td><td>Print an ndx file  </td></tr>
<tr>
<td width="5%"><a class="el" href="_s_e_l_e_c_t__c_o_m_p_o_n_e_n_t_s.html">SELECT_COMPONENTS</a>  </td><td>Create a new value to hold a subset of the components that are in a vector or matrix  </td></tr>
<tr>
<td width="5%"><a class="el" href="_s_e_l_e_c_t__w_i_t_h__m_a_s_k.html">SELECT_WITH_MASK</a>  </td><td>Use a mask to select elements of an array  </td></tr>
<tr>
<td width="5%"><a class="el" href="_u_p_d_a_t_e__i_f.html">UPDATE_IF</a>  </td><td>Conditional update of other actions.  </td></tr>
</table>
<p>The <a class="el" href="_u_p_d_a_t_e__i_f.html">UPDATE_IF</a> action allows you to do more complex things using the above print commands. As detailed in the documentation for <a class="el" href="_u_p_d_a_t_e__i_f.html">UPDATE_IF</a> when you put any of the above actions within an UPDATE_IF block then data will only be output to the file if colvars are within particular ranges. In other words, the above printing commands, in tandem with <a class="el" href="_u_p_d_a_t_e__i_f.html">UPDATE_IF</a>, allow you to identify the frames in your trajectory that satisfy some particular criteria and output information on those frames only.</p>
<p>Another useful command is the <a class="el" href="_c_o_m_m_i_t_t_o_r.html">COMMITTOR</a> command. As detailed in the documentation for <a class="el" href="_c_o_m_m_i_t_t_o_r.html">COMMITTOR</a> this command tells PLUMED (and the underlying MD code) to stop the calculation one some criteria is satisfied, alternatively one can use it to keep track of the number of times a criteria is satisfied.</p>
<p>A number of more complicated forms of analysis can be performed that take a number of frames from the trajectory as input. In all these commands the STRIDE keyword is used to tell PLUMED how frequently to collect data from the trajectory. In all these methods the output from the analysis is a form of ensemble average. If you are running with a bias it is thus likely that you may want to reweight the trajectory frames in order to remove the effect the bias has on the static behavior of the system. The following methods can thus be used to calculate weights for the various trajectory frames so that the final ensemble average is an average for the canonical ensemble at the appropriate temperature.</p>
<h1><a class="anchor" id="analysisbias"></a>
Reweighting and Averaging</h1>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><a class="el" href="_c_o_v_a_r_i_a_n_c_e__m_a_t_r_i_x.html">COVARIANCE_MATRIX</a>  </td><td>Calculate a covariance matix  </td></tr>
<tr>
<td width="5%"><a class="el" href="_r_e_w_e_i_g_h_t__b_i_a_s.html">REWEIGHT_BIAS</a>  </td><td>Calculate weights for ensemble averages that negate the effect the bias has on the region of phase space explored  </td></tr>
<tr>
<td width="5%"><a class="el" href="_r_e_w_e_i_g_h_t__m_e_t_a_d.html">REWEIGHT_METAD</a>  </td><td>Calculate the weights configurations should contribute to the histogram in a simulation in which a metadynamics bias acts upon the system.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_r_e_w_e_i_g_h_t__t_e_m_p__p_r_e_s_s.html">REWEIGHT_TEMP_PRESS</a>  </td><td>Calculate weights for ensemble averages at temperatures and/or pressures different than those used in your original simulation.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_w_h_a_m.html">WHAM</a>  </td><td>Calculate the weights for configurations using the weighted histogram analysis method.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_w_h_a_m__h_i_s_t_o_g_r_a_m.html">WHAM_HISTOGRAM</a>  </td><td>This can be used to output the a histogram using the weighted histogram technique  </td></tr>
<tr>
<td width="5%"><a class="el" href="_w_h_a_m__w_e_i_g_h_t_s.html">WHAM_WEIGHTS</a>  </td><td>Calculate and output weights for configurations using the weighted histogram analysis method.  </td></tr>
</table>
<p>You can then calculate ensemble averages using the following actions.</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><a class="el" href="_a_c_c_u_m_u_l_a_t_e.html">ACCUMULATE</a>  </td><td>Sum the elements of this value over the course of the trajectory  </td></tr>
<tr>
<td width="5%"><a class="el" href="_a_v_e_r_a_g_e.html">AVERAGE</a>  </td><td>Calculate the ensemble average of a collective variable  </td></tr>
<tr>
<td width="5%"><a class="el" href="_c_u_s_t_o_m__g_r_i_d.html">CUSTOM_GRID</a>  </td><td>Calculate a function of the grid or grids that are input and return a new grid  </td></tr>
<tr>
<td width="5%"><a class="el" href="_e_v_a_l_u_a_t_e__f_u_n_c_t_i_o_n__f_r_o_m__g_r_i_d.html">EVALUATE_FUNCTION_FROM_GRID</a>  </td><td>Calculate the function stored on the input grid at an arbitrary point  </td></tr>
<tr>
<td width="5%"><a class="el" href="_e_v_a_l_u_a_t_e__f_u_n_c_t_i_o_n__f_r_o_m__g_r_i_d__s_c_a_l_a_r.html">EVALUATE_FUNCTION_FROM_GRID_SCALAR</a>  </td><td>Calculate the function stored on the input grid at an arbitrary point  </td></tr>
<tr>
<td width="5%"><a class="el" href="_e_v_a_l_u_a_t_e__f_u_n_c_t_i_o_n__f_r_o_m__g_r_i_d__v_e_c_t_o_r.html">EVALUATE_FUNCTION_FROM_GRID_VECTOR</a>  </td><td>Calculate the function stored on the input grid for each of the points in the input vector/s  </td></tr>
<tr>
<td width="5%"><a class="el" href="_f_i_n_d__g_r_i_d__m_a_x_i_m_u_m.html">FIND_GRID_MAXIMUM</a>  </td><td>Find the point with the highest value of the function on the grid  </td></tr>
<tr>
<td width="5%"><a class="el" href="_f_i_n_d__g_r_i_d__m_i_n_i_m_u_m.html">FIND_GRID_MINIMUM</a>  </td><td>Find the point with the lowest value of the function on the grid  </td></tr>
<tr>
<td width="5%"><a class="el" href="_h_i_s_t_o_g_r_a_m.html">HISTOGRAM</a>  </td><td>Accumulate the average probability density along a few CVs from a trajectory.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_i_n_t_e_g_r_a_t_e__g_r_i_d.html">INTEGRATE_GRID</a>  </td><td>Calculate the numerical integral of the function stored on the grid  </td></tr>
<tr>
<td width="5%"><a class="el" href="_m_a_t_h_e_v_a_l__g_r_i_d.html">MATHEVAL_GRID</a>  </td><td>Calculate a function of the grid or grids that are input and return a new grid  </td></tr>
<tr>
<td width="5%"><a class="el" href="_m_u_l_t_i_c_o_l_v_a_r_d_e_n_s.html">MULTICOLVARDENS</a>  </td><td>Evaluate the average value of a multicolvar on a grid.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_r_e_f_e_r_e_n_c_e__g_r_i_d.html">REFERENCE_GRID</a>  </td><td>Setup a constant grid by either reading values from a file or definining a function in input  </td></tr>
<tr>
<td width="5%"><a class="el" href="_s_u_m__g_r_i_d.html">SUM_GRID</a>  </td><td>Sum the values of all the function at the points on a grid  </td></tr>
</table>
<p>For many of the above commands data is accumulated on the grids. These grids can be further analyzed using one of the actions detailed below at some time. <br  />
</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><a class="el" href="_c_o_n_v_e_r_t__t_o__f_e_s.html">CONVERT_TO_FES</a>  </td><td>Convert a histogram to a free energy surface.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_d_u_m_p_c_o_n_t_o_u_r.html">DUMPCONTOUR</a>  </td><td>Print the contour  </td></tr>
<tr>
<td width="5%"><a class="el" href="_d_u_m_p_c_u_b_e.html">DUMPCUBE</a>  </td><td>Output a three dimensional grid using the Gaussian cube file format.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_d_u_m_p_g_r_i_d.html">DUMPGRID</a>  </td><td>Output the function on the grid to a file with the PLUMED grid format.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_f_i_n_d__c_o_n_t_o_u_r.html">FIND_CONTOUR</a>  </td><td>Find an isocontour in a smooth function.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_f_i_n_d__c_o_n_t_o_u_r__s_u_r_f_a_c_e.html">FIND_CONTOUR_SURFACE</a>  </td><td>Find an isocontour by searching along either the x, y or z direction.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_f_i_n_d__s_p_h_e_r_i_c_a_l__c_o_n_t_o_u_r.html">FIND_SPHERICAL_CONTOUR</a>  </td><td>Find an isocontour in a three dimensional grid by searching over a Fibonacci sphere.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_f_o_u_r_i_e_r__t_r_a_n_s_f_o_r_m.html">FOURIER_TRANSFORM</a>  </td><td>Compute the Discrete Fourier Transform (DFT) by means of FFTW of data stored on a 2D grid.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_i_n_t_e_r_p_o_l_a_t_e__g_r_i_d.html">INTERPOLATE_GRID</a>  </td><td>Interpolate a smooth function stored on a grid onto a grid with a smaller grid spacing.  </td></tr>
</table>
<p>As an example the following set of commands instructs PLUMED to calculate the distance between atoms 1 and 2 for every fifth frame in the trajectory and to accumulate a histogram from this data which will be output every 100 steps (i.e. when 20 distances have been added to the histogram).</p>

<div style="width: 90%; float:left" id="value_details_eg1"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-failed-red.svg" alt="tested on master" /></div><pre style="width: 97%;" class="fragment">
<b name="eg1x" onclick='showPath("eg1","eg1x")'>x: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=1,2 <span style="display:none;" id="eg1x"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg1h" onclick='showPath("eg1","eg1h")'>h: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_h_i_s_t_o_g_r_a_m.html" style="color:green">HISTOGRAM</a> <div class="tooltip">ARG<div class="right">the quantities that are being used to construct the histogram <i></i></div></div>=<b name="eg1x">x</b> <div class="tooltip">GRID_MIN<div class="right"><b>compulsory keyword ( default=auto )</b>
the lower bounds for the grid <i></i></div></div>=0.0 <div class="tooltip">GRID_MAX<div class="right"><b>compulsory keyword ( default=auto )</b>
the upper bounds for the grid <i></i></div></div>=3.0 <div class="tooltip">GRID_BIN<div class="right">the number of bins for the grid <i></i></div></div>=100 <div class="tooltip">BANDWIDTH<div class="right">the bandwidths for kernel density esimtation <i></i></div></div>=0.1 <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which to store data for averaging <i></i></div></div>=5 <span style="display:none;" id="eg1h"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_d_u_m_p_g_r_i_d.html" style="color:green">DUMPGRID</a> <div class="tooltip">GRID<div class="right">the grid you would like to print (can also use ARG for specifying what is being printed)
<i></i></div></div>=<b name="eg1h">h</b> <div class="tooltip">FILE<div class="right"><b>compulsory keyword ( default=density )</b>
the file on which to write the grid. <i></i></div></div>=histo <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=0 )</b>
the frequency with which the grid should be output to the file. <i></i></div></div>=100 <span style="display:none;" id="eg1"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
</pre>
<p>It is important to note when using commands such as the above the first frame in the trajectory is assumed to be the initial configuration that was input to the MD code. It is thus ignored. Furthermore, if you are running with driver and you would like to analyze the whole trajectory (without specifying its length) and then print the result you simply call <a class="el" href="_d_u_m_p_g_r_i_d.html">DUMPGRID</a> (or any of the commands above) without a STRIDE keyword as shown in the example below.</p>

<div style="width: 90%; float:left" id="value_details_eg2"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-failed-red.svg" alt="tested on master" /></div><pre style="width: 97%;" class="fragment">
<b name="eg2x" onclick='showPath("eg2","eg2x")'>x: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=1,2 <span style="display:none;" id="eg2x"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg2h" onclick='showPath("eg2","eg2h")'>h: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_h_i_s_t_o_g_r_a_m.html" style="color:green">HISTOGRAM</a> <div class="tooltip">ARG<div class="right">the quantities that are being used to construct the histogram <i></i></div></div>=<b name="eg2x">x</b> <div class="tooltip">GRID_MIN<div class="right"><b>compulsory keyword ( default=auto )</b>
the lower bounds for the grid <i></i></div></div>=0.0 <div class="tooltip">GRID_MAX<div class="right"><b>compulsory keyword ( default=auto )</b>
the upper bounds for the grid <i></i></div></div>=3.0 <div class="tooltip">GRID_BIN<div class="right">the number of bins for the grid <i></i></div></div>=100 <div class="tooltip">BANDWIDTH<div class="right">the bandwidths for kernel density esimtation <i></i></div></div>=0.1 <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which to store data for averaging <i></i></div></div>=5 <span style="display:none;" id="eg2h"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_d_u_m_p_g_r_i_d.html" style="color:green">DUMPGRID</a> <div class="tooltip">GRID<div class="right">the grid you would like to print (can also use ARG for specifying what is being printed)
<i></i></div></div>=<b name="eg2h">h</b> <div class="tooltip">FILE<div class="right"><b>compulsory keyword ( default=density )</b>
the file on which to write the grid. <i></i></div></div>=histo <span style="display:none;" id="eg2"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
</pre>
<p>Please note that even with this calculation the first frame in the trajectory is ignored when computing the histogram.</p>
<p>Notice that all the commands for calculating smooth functions described above calculate some sort of average. There are two ways that you may wish to average the data in your trajectory:</p>
<ul>
<li>You might want to calculate block averages in which the first \(N\)N frames in your trajectory are averaged separately to the second block of \(N\) frames. If this is the case you should use the keyword CLEAR in the input to the action that calculates the smooth function. This keyword is used to specify how frequently you are clearing the stored data.</li>
<li>You might want to calculate an accumulate an average over the whole trajectory and output the average accumulated at step \(N\), step \(2N\)... This is what PLUMED does by default so you do not need to use CLEAR in this case.</li>
</ul>
<h1><a class="anchor" id="diag"></a>
Diagnostic tools</h1>
<p>PLUMED has a number of diagnostic tools that can be used to check that new Actions are working correctly:</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><a class="el" href="_d_u_m_p_f_o_r_c_e_s.html">DUMPFORCES</a>  </td><td>Dump the force acting on one of a values in a file.   </td></tr>
<tr>
<td width="5%"><a class="el" href="_d_u_m_p_d_e_r_i_v_a_t_i_v_e_s.html">DUMPDERIVATIVES</a>  </td><td>Dump the derivatives with respect to the input parameters for one or more objects (generally CVs, functions or biases).  </td></tr>
<tr>
<td width="5%"><a class="el" href="_d_u_m_p_m_a_s_s_c_h_a_r_g_e.html">DUMPMASSCHARGE</a>  </td><td>Dump masses and charges on a selected file.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_d_u_m_p_p_r_o_j_e_c_t_i_o_n_s.html">DUMPPROJECTIONS</a>  </td><td>Dump the derivatives with respect to the input parameters for one or more objects (generally CVs, functions or biases).  </td></tr>
</table>
<p>These commands allow you to test that derivatives and forces are calculated correctly within colvars and functions. One place where this is very useful is when you are testing whether or not you have implemented the derivatives of a new collective variables correctly. So for example if we wanted to do such a test on the distance CV we would employ an input file something like this:</p>

<div style="width: 90%; float:left" id="value_details_eg3"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested on master" /></div><pre style="width: 97%;" class="fragment">
<b name="eg3d1" onclick='showPath("eg3","eg3d1")'>d1: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=1,2 <span style="display:none;" id="eg3d1">The DISTANCE action with label <b>d1</b> calculates a single scalar value</span>
<b name="eg3d1n" onclick='showPath("eg3","eg3d1n")'>d1n: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=1,2 <div class="tooltip">NUMERICAL_DERIVATIVES<div class="right">( default=off ) calculate the derivatives for these quantities numerically <i></i></div></div> <span style="display:none;" id="eg3d1n">The DISTANCE action with label <b>d1n</b> calculates a single scalar value</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_d_u_m_p_d_e_r_i_v_a_t_i_v_e_s.html" style="color:green">DUMPDERIVATIVES</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the labels of the values whose derivatives should be output <i></i></div></div>=<b name="eg3d1">d1</b>,<b name="eg3d1n">d1n</b> <div class="tooltip">FILE<div class="right"><b>compulsory keyword </b>
the name of the file on which to output the derivatives <i></i></div></div>=derivatives <span style="display:none;" id="eg3">The DUMPDERIVATIVES action with label <b></b></span>
</pre>
<p>The first of these two distance commands calculates the analytical derivatives of the distance while the second calculates these derivatives numerically. Obviously, if your CV is implemented correctly these two sets of quantities should be nearly identical.</p>
<h1><a class="anchor" id="storing"></a>
Storing data for analysis</h1>
<p>All the analysis methods described in previous sections accumulate averages or output diagnostic information on the fly. That is to say these methods calculate something given the instantaneous positions of the atoms or the instantaneous values of a set of collective variables. Many methods (e.g. dimensionality reduction and clustering) will not work like this, however, as information from multiple trajectory frames is required at the point when the analysis is performed. In other words the output from these types of analysis cannot be accumulated one frame at time. When using these methods you must therefore store trajectory frames for later analysis. You can do this storing by using the following action:</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><a class="el" href="_c_o_l_l_e_c_t__f_r_a_m_e_s.html">COLLECT_FRAMES</a>  </td><td>Collect and store trajectory frames for later analysis with one of the methods detailed below.   </td></tr>
</table>
<p><br  />
</p>
<h1><a class="anchor" id="dissimilaritym"></a>
Calculating dissimilarity matrices</h1>
<p>One of the simplest things that we can do if we have stored a set of trajectory frames using <a class="el" href="_c_o_l_l_e_c_t__f_r_a_m_e_s.html">COLLECT_FRAMES</a> is we can calculate the dissimilarity between every pair of frames we have stored. When using the <a class="el" href="_analysis.html#dimred">dimensionality reduction</a> algorithms described in the sections that follow the first step is to calculate this matrix. Consequently, within PLUMED the following command will collect the trajectory data as your simulation progressed and calculate the dissimilarities:</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%">EUCLIDEAN_DISSIMILARITIES  </td><td>Calculate the matrix of dissimilarities between a trajectory of atomic configurations.   </td></tr>
</table>
<p>By exploiting the functionality described in <a class="el" href="dists.html">Distances from reference configurations</a> you can calculate these dissimilarities in a wide variety of different ways (e.g. you can use <a class="el" href="_r_m_s_d.html">RMSD</a>, or you can use a collection of collective variable values see TARGET). If you wish to view this dissimilarity information you can print these quantities to a file using:</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%">PRINT_DISSIMILARITY_MATRIX  </td><td>Print the matrix of dissimilarities between a trajectory of atomic configurations.   </td></tr>
</table>
<p>In addition, if PLUMED does not calculate the dissimilarities you need you can read this information from an external file</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%">READ_DISSIMILARITY_MATRIX  </td><td>Read a matrix of dissimilarities between a trajectory of atomic configurations from a file.   </td></tr>
</table>
<p>N.B. You can only use the two commands above when you are doing post-processing. <br  />
</p>
<h1><a class="anchor" id="landmarks"></a>
Landmark Selection</h1>
<p>Many of the techniques described in the following sections are very computationally expensive to run on large trajectories. A common strategy is thus to use a landmark selection algorithm to pick a particularly-representative subset of trajectory frames and to only apply the expensive analysis algorithm on these configurations. The various landmark selection algorithms that are available in PLUMED are as follows</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><a class="el" href="_f_a_r_t_h_e_s_t__p_o_i_n_t__s_a_m_p_l_i_n_g.html">FARTHEST_POINT_SAMPLING</a>  </td><td>Select a set of landmarks using farthest point sampling.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_l_a_n_d_m_a_r_k__s_e_l_e_c_t__f_p_s.html">LANDMARK_SELECT_FPS</a>  </td><td>Select a of landmarks from a large set of configurations using farthest point sampling.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_l_a_n_d_m_a_r_k__s_e_l_e_c_t__r_a_n_d_o_m.html">LANDMARK_SELECT_RANDOM</a>  </td><td>Select a random set of landmarks from a large set of configurations.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_l_a_n_d_m_a_r_k__s_e_l_e_c_t__s_t_r_i_d_e.html">LANDMARK_SELECT_STRIDE</a>  </td><td>Select every ith frame from the stored data  </td></tr>
</table>
<p>In general most of these landmark selection algorithms must be used in tandem with a <a class="el" href="_analysis.html#dissimilaritym">dissimilarity matrix</a> object as as follows:</p>

<div style="width: 90%; float:left" id="value_details_eg4"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-failed-red.svg" alt="tested on master" /></div><pre style="width: 97%;" class="fragment">
<b name="eg4d1" onclick='showPath("eg4","eg4d1")'>d1: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=1,2 <span style="display:none;" id="eg4d1"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg4d2" onclick='showPath("eg4","eg4d2")'>d2: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=3,4 <span style="display:none;" id="eg4d2"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg4d3" onclick='showPath("eg4","eg4d3")'>d3: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=5,6 <span style="display:none;" id="eg4d3"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg4data" onclick='showPath("eg4","eg4data")'>data: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_c_o_l_l_e_c_t__f_r_a_m_e_s.html" style="color:green">COLLECT_FRAMES</a> <div class="tooltip">ARG<div class="right">the labels of the values whose time series you would like to collect for later analysis
<i></i></div></div>=<b name="eg4d1">d1</b>,<b name="eg4d2">d2</b>,<b name="eg4d3">d3</b> <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which data should be stored for analysis. <i></i></div></div>=1 <span style="display:none;" id="eg4data"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg4ss1" onclick='showPath("eg4","eg4ss1")'>ss1: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_e_u_c_l_i_d_e_a_n__d_i_s_s_i_m_i_l_a_r_i_t_i_e_s.html" style="color:green">EUCLIDEAN_DISSIMILARITIES</a> <div class="tooltip">USE_OUTPUT_DATA_FROM<div class="right"><b> could not find this keyword </b><i></i></div></div>=<b name="eg4data">data</b> <span style="display:none;" id="eg4ss1"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg4ll2" onclick='showPath("eg4","eg4ll2")'>ll2: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_l_a_n_d_m_a_r_k__s_e_l_e_c_t__f_p_s.html" style="color:green">LANDMARK_SELECT_FPS</a> <div class="tooltip">USE_OUTPUT_DATA_FROM<div class="right"><b> could not find this keyword </b><i></i></div></div>=<b name="eg4ss1">ss1</b> <div class="tooltip">NLANDMARKS<div class="right"><b>compulsory keyword </b>
the numbe rof landmarks you would like to create <i></i></div></div>=300 <span style="display:none;" id="eg4ll2"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_o_u_t_p_u_t__a_n_a_l_y_s_i_s__d_a_t_a__t_o__c_o_l_v_a_r.html" style="color:green">OUTPUT_ANALYSIS_DATA_TO_COLVAR</a> <div class="tooltip">USE_OUTPUT_DATA_FROM<div class="right"><b> could not find this keyword </b><i></i></div></div>=<b name="eg4ll2">ll2</b> <div class="tooltip">FILE<div class="right"><b> could not find this keyword </b><i></i></div></div>=mylandmarks <span style="display:none;" id="eg4"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
</pre>
<p>When landmark selection is performed in this way a weight is ascribed to each of the landmark configurations. This weight is calculated by summing the weights of all the trajectory frames in each of the landmarks Voronoi polyhedron (<a href="https://en.wikipedia.org/wiki/Voronoi_diagram">https://en.wikipedia.org/wiki/Voronoi_diagram</a>). The weight of each trajectory frame is one unless you are reweighting using the formula described in the <a class="el" href="_analysis.html#analysisbias">Reweighting and Averaging</a> to counteract the fact of a simulation bias or an elevated temperature. If you are reweighting using these formula the weight of each of the points is equal to the exponential term in the numerator of these expressions.</p>
<h1><a class="anchor" id="dimred"></a>
Dimensionality Reduction</h1>
<p>Many dimensionality reduction algorithms work in a manner similar to the way we use when we make maps. You start with distances between London, Belfast, Paris and Dublin and then you try to arrange points on a piece of paper so that the (suitably transformed) distances between the points in your map representing each of those cities are related to the true distances between the cities. <br  />
 Stating this more mathematically MDS endeavors to find an <a href="http://en.wikipedia.org/wiki/Isometry">isometry</a> between points distributed in a high-dimensional space and a set of points distributed in a low-dimensional plane. <br  />
 In other words, if we have \(M\) \(D\)-dimensional points, \(\mathbf{X}\), and we can calculate dissimilarities between pairs them, \(D_{ij}\), we can, with an MDS calculation, try to create \(M\) projections, \(\mathbf{x}\), of the high dimensionality points in a \(d\)-dimensional linear space by trying to arrange the projections so that the Euclidean distances between pairs of them, \(d_{ij}\), resemble the dissimilarities between the high dimensional points. In short we minimize:</p>
<p class="formulaDsp">
\[ \chi^2 = \sum_{i \ne j} w_i w_j \left( F(D_{ij}) - f(d_{ij}) \right)^2 \]
</p>
<p>where \(F(D_{ij})\) is some transformation of the distance between point \(X^{i}\) and point \(X^{j}\) and \(f(d_{ij})\) is some transformation of the distance between the projection of \(X^{i}\), \(x^i\), and the projection of \(X^{j}\), \(x^j\). \(w_i\) and \(w_j\) are the weights of configurations \(X^i\) and \(^j\) respectively. These weights are calculated using the reweighting and Voronoi polyhedron approaches described in previous sections. A tutorial on dimensionality reduction and how it can be used to analyze simulations can be found in the tutorial lugano-5 and in the following <a href="https://www.youtube.com/watch?v=ofC2qz0_9_A&amp;feature=youtu.be">short video.</a></p>
<p>Within PLUMED running an input to run a dimensionality reduction algorithm can be as simple as:</p>

<div style="width: 90%; float:left" id="value_details_eg5"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-failed-red.svg" alt="tested on master" /></div><pre style="width: 97%;" class="fragment">
<b name="eg5d1" onclick='showPath("eg5","eg5d1")'>d1: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=1,2 <span style="display:none;" id="eg5d1"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg5d2" onclick='showPath("eg5","eg5d2")'>d2: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=3,4 <span style="display:none;" id="eg5d2"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg5d3" onclick='showPath("eg5","eg5d3")'>d3: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=5,6 <span style="display:none;" id="eg5d3"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg5data" onclick='showPath("eg5","eg5data")'>data: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_c_o_l_l_e_c_t__f_r_a_m_e_s.html" style="color:green">COLLECT_FRAMES</a> <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which data should be stored for analysis. <i></i></div></div>=1 <div class="tooltip">ARG<div class="right">the labels of the values whose time series you would like to collect for later analysis
<i></i></div></div>=<b name="eg5d1">d1</b>,<b name="eg5d2">d2</b>,<b name="eg5d3">d3</b> <span style="display:none;" id="eg5data"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg5ss1" onclick='showPath("eg5","eg5ss1")'>ss1: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_e_u_c_l_i_d_e_a_n__d_i_s_s_i_m_i_l_a_r_i_t_i_e_s.html" style="color:green">EUCLIDEAN_DISSIMILARITIES</a> <div class="tooltip">USE_OUTPUT_DATA_FROM<div class="right"><b> could not find this keyword </b><i></i></div></div>=<b name="eg5data">data</b> <span style="display:none;" id="eg5ss1"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg5mds" onclick='showPath("eg5","eg5mds")'>mds: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_c_l_a_s_s_i_c_a_l__m_d_s.html" style="color:green">CLASSICAL_MDS</a> <div class="tooltip">USE_OUTPUT_DATA_FROM<div class="right"><b> could not find this keyword </b><i></i></div></div>=<b name="eg5ss1">ss1</b> <div class="tooltip">NLOW_DIM<div class="right"><b>compulsory keyword </b>
number of low-dimensional coordinates required <i></i></div></div>=2 <span style="display:none;" id="eg5mds"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
</pre>
<p>Where we have to use the EUCLIDEAN_DISSIMILARITIES action here in order to calculate the matrix of dissimilarities between trajectory frames. We can even throw some landmark selection into this procedure and perform</p>

<div style="width: 90%; float:left" id="value_details_eg6"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-failed-red.svg" alt="tested on master" /></div><pre style="width: 97%;" class="fragment">
<b name="eg6d1" onclick='showPath("eg6","eg6d1")'>d1: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=1,2 <span style="display:none;" id="eg6d1"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg6d2" onclick='showPath("eg6","eg6d2")'>d2: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=3,4 <span style="display:none;" id="eg6d2"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg6d3" onclick='showPath("eg6","eg6d3")'>d3: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=5,6 <span style="display:none;" id="eg6d3"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg6data" onclick='showPath("eg6","eg6data")'>data: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_c_o_l_l_e_c_t__f_r_a_m_e_s.html" style="color:green">COLLECT_FRAMES</a> <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which data should be stored for analysis. <i></i></div></div>=1 <div class="tooltip">ARG<div class="right">the labels of the values whose time series you would like to collect for later analysis
<i></i></div></div>=<b name="eg6d1">d1</b>,<b name="eg6d2">d2</b>,<b name="eg6d3">d3</b> <span style="display:none;" id="eg6data"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg6matrix" onclick='showPath("eg6","eg6matrix")'>matrix: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_e_u_c_l_i_d_e_a_n__d_i_s_s_i_m_i_l_a_r_i_t_i_e_s.html" style="color:green">EUCLIDEAN_DISSIMILARITIES</a> <div class="tooltip">USE_OUTPUT_DATA_FROM<div class="right"><b> could not find this keyword </b><i></i></div></div>=<b name="eg6data">data</b> <span style="display:none;" id="eg6matrix"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg6ll2" onclick='showPath("eg6","eg6ll2")'>ll2: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_l_a_n_d_m_a_r_k__s_e_l_e_c_t__f_p_s.html" style="color:green">LANDMARK_SELECT_FPS</a> <div class="tooltip">USE_OUTPUT_DATA_FROM<div class="right"><b> could not find this keyword </b><i></i></div></div>=<b name="eg6matrix">matrix</b> <div class="tooltip">NLANDMARKS<div class="right"><b>compulsory keyword </b>
the numbe rof landmarks you would like to create <i></i></div></div>=300 <span style="display:none;" id="eg6ll2"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg6mds" onclick='showPath("eg6","eg6mds")'>mds: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_c_l_a_s_s_i_c_a_l__m_d_s.html" style="color:green">CLASSICAL_MDS</a> <div class="tooltip">USE_OUTPUT_DATA_FROM<div class="right"><b> could not find this keyword </b><i></i></div></div>=<b name="eg6ll2">ll2</b> <div class="tooltip">NLOW_DIM<div class="right"><b>compulsory keyword </b>
number of low-dimensional coordinates required <i></i></div></div>=2 <span style="display:none;" id="eg6mds"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg6osample" onclick='showPath("eg6","eg6osample")'>osample: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_p_r_o_j_e_c_t__a_l_l__a_n_a_l_y_s_i_s__d_a_t_a.html" style="color:green">PROJECT_ALL_ANALYSIS_DATA</a> <div class="tooltip">USE_OUTPUT_DATA_FROM<div class="right"><b> could not find this keyword </b><i></i></div></div>=<b name="eg6matrix">matrix</b> <div class="tooltip">PROJECTION<div class="right"><b> could not find this keyword </b><i></i></div></div>=<b name="eg6mds">mds</b> <span style="display:none;" id="eg6osample"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
</pre>
<p>Notice here that the final command allows us to calculate the projections of all the non-landmark points that were collected by the action with label matrix.</p>
<p>Dimensionality can be more complicated, however, because the stress function that calculates \(\chi^2\) has to optimized rather carefully using a number of different algorithms. The various algorithms that can be used to optimize this function are described below</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><a class="el" href="_a_r_r_a_n_g_e__p_o_i_n_t_s.html">ARRANGE_POINTS</a>  </td><td>Arrange points in a low dimensional space so that the (transformed) distances between points in the low dimensional space match the dissimilarities provided in an input matrix.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_c_l_a_s_s_i_c_a_l__m_d_s.html">CLASSICAL_MDS</a>  </td><td>Create a low-dimensional projection of a trajectory using the classical multidimensional scaling algorithm.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_c_r_e_a_t_e__m_a_s_k.html">CREATE_MASK</a>  </td><td>Create a mask vector to use for landmark selection  </td></tr>
<tr>
<td width="5%"><a class="el" href="_p_c_a.html">PCA</a>  </td><td>Perform principal component analysis (PCA) using either the positions of the atoms a large number of collective variables as input.  </td></tr>
<tr>
<td width="5%"><a class="el" href="_p_r_o_j_e_c_t__p_o_i_n_t_s.html">PROJECT_POINTS</a>  </td><td>Find the projection of a point in a low dimensional space by matching the (transformed) distance between it and a series of reference configurations that were input  </td></tr>
<tr>
<td width="5%"><a class="el" href="_s_k_e_t_c_h_m_a_p.html">SKETCHMAP</a>  </td><td>Construct a sketch map projection of the input data  </td></tr>
<tr>
<td width="5%"><a class="el" href="_s_k_e_t_c_h_m_a_p__p_r_o_j_e_c_t_i_o_n.html">SKETCHMAP_PROJECTION</a>  </td><td>Read in a sketch-map projection  </td></tr>
</table>
<h1><a class="anchor" id="output"></a>
Outputting the results from analysis algorithms</h1>
<p>The following methods are available for printing the result output by the various analysis algorithms:</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%">OUTPUT_ANALYSIS_DATA_TO_COLVAR  </td><td>Output the results from an analysis using the PLUMED colvar file format.   </td></tr>
<tr>
<td width="5%">OUTPUT_ANALYSIS_DATA_TO_PDB  </td><td>Output the results from an analysis using the PDB file format.  </td></tr>
</table>
<p>Using the above commands to output the data from any form of analysis is important as <b> the STRIDE with which you output the data to a COLVAR or PDB file controls how frequently the analysis is performed on the collected data </b>. If you specified no stride on the output lines then PLUMED assumes you want to perform analysis on the entire trajectory.</p>
<p>If you use the above commands to output data from one of the <a class="el" href="_analysis.html#landmarks">Landmark Selection</a> algorithms then only the second will give you information on the atomic positions in your landmark configurations and their associated weights. The first of these commands will give the values of the colvars in the landmark configurations only. If you use the above commands to output data from one of the <a class="el" href="_analysis.html#dimred">Dimensionality Reduction</a> algorithms then OUTPUT_ANALYSIS_DATA_TO_COLVAR will give you an output file that contains the projection for each of your input points. OUTPUT_ANALYSIS_DATA_TO_PDB will give you a PDB that contains the position of the input point, the projections and the weight of the configuration.</p>
<p>A nice feature of plumed is that when you use <a class="el" href="_analysis.html#landmarks">Landmark Selection</a> algorithms or <a class="el" href="_analysis.html#dimred">Dimensionality Reduction</a> algorithms the output information is just a vector of variables. As such you can use <a class="el" href="_h_i_s_t_o_g_r_a_m.html">HISTOGRAM</a> to construct a histogram of the information generated by these algorithms. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--      -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
