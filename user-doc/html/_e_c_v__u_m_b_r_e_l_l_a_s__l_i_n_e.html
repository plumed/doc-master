<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>PLUMED: ECV_UMBRELLAS_LINE</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script>
   var redpath = "";
   
   function showPath(eg,name) {
     var i; var y = document.getElementsByName(redpath);
     for (i=0; i < y.length; i++ ) { y[i].style.color="black"; }
     var x = document.getElementsByName(name); redpath=name;
     for (i = 0; i < x.length; i++) { x[i].style.color="red"; }
     var valid="value_details_".concat(eg);
     var valueField = document.getElementById(valid);
     var dataField = document.getElementById(name);
     valueField.innerHTML = dataField.innerHTML;
   }
   function swapInput(name) {
     var btn = document.getElementById(name + "_button");
     var mydiv = document.getElementById("input_" + name);
     if( btn.textContent=="expand shortcuts" ) {
         btn.textContent = "contract shortcuts";
         var dataField = document.getElementById(name + "long");
         mydiv.innerHTML = dataField.innerHTML;
     } else if( btn.textContent=="contract shortcuts" ) {
         btn.textContent = "expand shortcuts";
         var dataField = document.getElementById(name + "short");
         mydiv.innerHTML = dataField.innerHTML;
     }
   }
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.11.0-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_e_c_v__u_m_b_r_e_l_l_a_s__l_i_n_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ECV_UMBRELLAS_LINE </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table align="center" frame="void" width="95%%" celpadding="5%%">
<tr>
<td width="60%%"></td><td><b> This is part of the opes <a class="el" href="mymodules.html">module </a></b>   </td></tr>
<tr>
<td width="60%%"></td><td><b> It is only available if you configure PLUMED with ./configure &ndash;enable-modules=opes . Furthermore, this feature is still being developed so take care when using it and report any problems on the mailing list.</b>   </td></tr>
</table>
<p>Target a multiumbrella ensemble, by combining systems each with a parabolic bias potential at a different location.</p>
<p>Any set of collective variables \(\mathbf{s}\) can be used as ARG. </p><p class="formulaDsp">
\[ \Delta u_{\mathbf{s}_i}(\mathbf{s})=\sum_j^{\text{dim}}\frac{([s]_j-[s_i]_j)^2}{2\sigma^2}\, . \]
</p>
<p> The Gaussian umbrellas are placed along a line, from CV_MIN to CV_MAX. The umbrellas are placed at a distance SIGMA*SPACING from each other, if you need more flexibility use <a class="el" href="_e_c_v__u_m_b_r_e_l_l_a_s__f_i_l_e.html">ECV_UMBRELLAS_FILE</a>. The unbiased fluctuations in the basin usually are a reasonable guess for the value of SIGMA. Typically, a SPACING greater than 1 can lead to faster convergence, by reducing the total number of umbrellas. The umbrellas can be multidimensional, but the CVs dimensions should be rescaled since a single SIGMA must be used.</p>
<p>The keyword BARRIER can be helpful to avoid breaking your system due to a too strong initial bias. If you think the placed umbrellas will not cover the whole unbiased probability distribution you should add it explicitly to the target, with the flag ADD_P0, for more robust convergence. See also Appendix B of Ref.<a class="el" href="citelist.html#CITEREF_Invernizzi2020unified">[60]</a> for more details on these last two options.</p>
<p>The flag LOWER_HALF_ONLY modifies the ECVs so that they are set to zero when \(\mathbf{s}&gt;\mathbf{s}_i\), as in <a class="el" href="_l_o_w_e_r__w_a_l_l_s.html">LOWER_WALLS</a>. This can be useful e.g. when the CV used is the <a class="el" href="_e_n_e_r_g_y.html">ENERGY</a> and one wants to sample a broad range of high energy values, similar to <a class="el" href="_e_c_v__m_u_l_t_i_t_h_e_r_m_a_l.html">ECV_MULTITHERMAL</a> but with a flat energy distribution as target. By pushing only from below one can avoid too extreme forces that could crash the simulation.</p>
<dl class="section user"><dt>Examples</dt><dd></dd></dl>

<div style="width: 90%; float:left" id="value_details_eg1"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested on master" /></div><pre style="width: 97%;" class="fragment">
<b name="eg1cv" onclick='showPath("eg1","eg1cv")'>cv: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=1,2 <span style="display:none;" id="eg1cv">The DISTANCE action with label <b>cv</b> calculates a single scalar value</span>
<b name="eg1ecv" onclick='showPath("eg1","eg1ecv")'>ecv: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_e_c_v__u_m_b_r_e_l_l_a_s__l_i_n_e.html" style="color:green">ECV_UMBRELLAS_LINE</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the labels of the scalar values that are input to this action <i></i></div></div>=<b name="eg1cv">cv</b> <div class="tooltip">CV_MIN<div class="right"><b>compulsory keyword </b>
the minimum of the CV range to be explored <i></i></div></div>=1.2 <div class="tooltip">CV_MAX<div class="right"><b>compulsory keyword </b>
the maximum of the CV range to be explored <i></i></div></div>=4.3 <div class="tooltip">SIGMA<div class="right"><b>compulsory keyword </b>
sigma of the umbrella Gaussians <i></i></div></div>=0.5 <div class="tooltip">SPACING<div class="right"><b>compulsory keyword ( default=1 )</b>
the distance between umbrellas, in units of SIGMA <i></i></div></div>=1.5 <span style="display:none;" id="eg1ecv">The ECV_UMBRELLAS_LINE action with label <b>ecv</b> calculates a single scalar value</span>
<b name="eg1opes" onclick='showPath("eg1","eg1opes")'>opes: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_o_p_e_s__e_x_p_a_n_d_e_d.html" style="color:green">OPES_EXPANDED</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the label of the ECVs that define the expansion. <i></i></div></div>=<b name="eg1ecv">ecv.*</b> <div class="tooltip">PACE<div class="right"><b>compulsory keyword </b>
how often the bias is updated <i></i></div></div>=500 <span style="display:none;" id="eg1opes">The OPES_EXPANDED action with label <b>opes</b> calculates a single scalar value</span>
</pre>
<p>It is also possible to combine different ECV_UMBRELLAS_LINE to build a grid of CV values that will be sampled. For example the following code will sample a whole 2D region of cv1 and cv2.</p>

<div style="width: 90%; float:left" id="value_details_eg2"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested on master" /></div><pre style="width: 97%;" class="fragment">
<b name="eg2cv1" onclick='showPath("eg2","eg2cv1")'>cv1: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=1,2 <span style="display:none;" id="eg2cv1">The DISTANCE action with label <b>cv1</b> calculates a single scalar value</span>
<b name="eg2ecv2" onclick='showPath("eg2","eg2ecv2")'>ecv2: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_e_c_v__u_m_b_r_e_l_l_a_s__l_i_n_e.html" style="color:green">ECV_UMBRELLAS_LINE</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the labels of the scalar values that are input to this action <i></i></div></div>=<b name="eg2cv1">cv1</b> <div class="tooltip">CV_MIN<div class="right"><b>compulsory keyword </b>
the minimum of the CV range to be explored <i></i></div></div>=1.2 <div class="tooltip">CV_MAX<div class="right"><b>compulsory keyword </b>
the maximum of the CV range to be explored <i></i></div></div>=4.3 <div class="tooltip">SIGMA<div class="right"><b>compulsory keyword </b>
sigma of the umbrella Gaussians <i></i></div></div>=0.5 <span style="display:none;" id="eg2ecv2">The ECV_UMBRELLAS_LINE action with label <b>ecv2</b> calculates a single scalar value</span>
<b name="eg2cv2" onclick='showPath("eg2","eg2cv2")'>cv2: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=3,4 <span style="display:none;" id="eg2cv2">The DISTANCE action with label <b>cv2</b> calculates a single scalar value</span>
<b name="eg2ecv1" onclick='showPath("eg2","eg2ecv1")'>ecv1: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_e_c_v__u_m_b_r_e_l_l_a_s__l_i_n_e.html" style="color:green">ECV_UMBRELLAS_LINE</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the labels of the scalar values that are input to this action <i></i></div></div>=<b name="eg2cv2">cv2</b> <div class="tooltip">CV_MIN<div class="right"><b>compulsory keyword </b>
the minimum of the CV range to be explored <i></i></div></div>=13.8 <div class="tooltip">CV_MAX<div class="right"><b>compulsory keyword </b>
the maximum of the CV range to be explored <i></i></div></div>=21.4 <div class="tooltip">SIGMA<div class="right"><b>compulsory keyword </b>
sigma of the umbrella Gaussians <i></i></div></div>=4.3 <span style="display:none;" id="eg2ecv1">The ECV_UMBRELLAS_LINE action with label <b>ecv1</b> calculates a single scalar value</span>
<b name="eg2opes" onclick='showPath("eg2","eg2opes")'>opes: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_o_p_e_s__e_x_p_a_n_d_e_d.html" style="color:green">OPES_EXPANDED</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the label of the ECVs that define the expansion. <i></i></div></div>=<b name="eg2ecv1">ecv1.*</b>,<b name="eg2ecv2">ecv2.*</b> <div class="tooltip">PACE<div class="right"><b>compulsory keyword </b>
how often the bias is updated <i></i></div></div>=500 <span style="display:none;" id="eg2opes">The OPES_EXPANDED action with label <b>opes</b> calculates a single scalar value</span>
</pre>
<dl class="section user"><dt>Glossary of keywords and components</dt><dd></dd></dl>
<dl class="section user"><dt>Description of components</dt><dd></dd></dl>
<p>The names of the components in this action can be customized by the user in the actions input file. However, in addition to the components that can be customized the following quantities will always be output</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><b> Quantity </b>  </td><td><b> Description </b>   </td></tr>
<tr>
<td width="15%"><b> .#!custom </b> </td><td>the names of the output components for this action depend on the actions input file see the example inputs below for details   </td></tr>
</table>
<dl class="section user"><dt>Compulsory keywords</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> TEMP </b> </td><td>( default=-1 ) temperature. If not specified tries to get it from MD engine   </td></tr>
<tr>
<td width="15%"><b> ARG </b> </td><td>the labels of the scalar values that are input to this action   </td></tr>
<tr>
<td width="15%"><b> CV_MIN </b> </td><td>the minimum of the CV range to be explored   </td></tr>
<tr>
<td width="15%"><b> CV_MAX </b> </td><td>the maximum of the CV range to be explored   </td></tr>
<tr>
<td width="15%"><b> SIGMA </b> </td><td>sigma of the umbrella Gaussians   </td></tr>
<tr>
<td width="15%"><b> SPACING </b> </td><td>( default=1 ) the distance between umbrellas, in units of SIGMA   </td></tr>
</table>
<dl class="section user"><dt>Options</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> NUMERICAL_DERIVATIVES </b> </td><td>( default=off ) calculate the derivatives for these quantities numerically   </td></tr>
<tr>
<td width="15%"><b> ADD_P0 </b> </td><td>( default=off ) add the unbiased Boltzmann distribution to the target distribution, to make sure to sample it   </td></tr>
<tr>
<td width="15%"><b> LOWER_HALF_ONLY </b> </td><td><p class="starttd">( default=off ) use only the lower half of each umbrella potentials  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td width="15%"><b> BARRIER </b> </td><td>a guess of the free energy barrier to be overcome (better to stay higher than lower)   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="_add_mod.html">Additional Modules</a></li><li class="navelem"><a class="el" href="_o_p_e_s.html">OPES (On-the-fly Probability Enhanced Sampling)</a></li><li class="navelem"><a class="el" href="expansion__c_v.html">Expansion Collective Variables</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
