<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>PLUMED: OPT_ADAM</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script>
   var redpath = "";
   
   function showPath(eg,name) {
     var i; var y = document.getElementsByName(redpath);
     for (i=0; i < y.length; i++ ) { y[i].style.color="black"; }
     var x = document.getElementsByName(name); redpath=name;
     for (i = 0; i < x.length; i++) { x[i].style.color="red"; }
     var valid="value_details_".concat(eg);
     var valueField = document.getElementById(valid);
     var dataField = document.getElementById(name);
     valueField.innerHTML = dataField.innerHTML;
   }
   function swapInput(name) {
     var btn = document.getElementById(name + "_button");
     var mydiv = document.getElementById("input_" + name);
     if( btn.textContent=="expand shortcuts" ) {
         btn.textContent = "contract shortcuts";
         var dataField = document.getElementById(name + "long");
         mydiv.innerHTML = dataField.innerHTML;
     } else if( btn.textContent=="contract shortcuts" ) {
         btn.textContent = "expand shortcuts";
         var dataField = document.getElementById(name + "short");
         mydiv.innerHTML = dataField.innerHTML;
     }
   }
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.11.0-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_o_p_t__a_d_a_m.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">OPT_ADAM </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table align="center" frame="void" width="95%%" celpadding="5%%">
<tr>
<td width="60%%"></td><td><b> This is part of the ves <a class="el" href="mymodules.html">module </a></b>   </td></tr>
<tr>
<td width="60%%"></td><td><b> It is only available if you configure PLUMED with ./configure &ndash;enable-modules=ves . Furthermore, this feature is still being developed so take care when using it and report any problems on the mailing list.</b>   </td></tr>
</table>
<p>Adaptive moment estimation (ADAM) optimizer.</p>
<dl class="section attention"><dt>Attention</dt><dd><b>This optimizer is still experimental and not fully documented. The syntax might change. Restarting does not work. We recommend to use the averaged stochastic gradient decent optimizer (<a class="el" href="_o_p_t__a_v_e_r_a_g_e_d__s_g_d.html">OPT_AVERAGED_SGD</a>) for now</b>.</dd></dl>
<dl class="section user"><dt>Examples</dt><dd></dd></dl>
<dl class="section user"><dt>Glossary of keywords and components</dt><dd></dd></dl>
<dl class="section user"><dt>Description of components</dt><dd></dd></dl>
<p>By default the value of the calculated quantity can be referenced elsewhere in the input file by using the label of the action. Alternatively this Action can be used to calculate the following quantities by employing the keywords listed below. These quantities can be referenced elsewhere in the input by using this Action's label followed by a dot and the name of the quantity required from the list below.</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><b> Quantity </b>  </td><td><b> Description </b>   </td></tr>
<tr>
<td width="15%"><b> .#!value </b> </td><td>a scalar   </td></tr>
</table>
<p>In addition the following quantities can be calculated by employing the keywords listed below</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><b> Quantity </b>  </td><td><b> Keyword </b>  </td><td><b> Description </b>   </td></tr>
<tr>
<td width="5%"><b> gradrms </b> </td><td width="10%"><b> MONITOR_INSTANTANEOUS_GRADIENT </b>  </td><td>the root mean square value of the coefficient gradient. For multiple biases this component is labeled using the number of the bias as gradrms-#.   </td></tr>
<tr>
<td width="5%"><b> gradmax </b> </td><td width="10%"><b> MONITOR_INSTANTANEOUS_GRADIENT </b>  </td><td>the largest absolute value of the coefficient gradient. For multiple biases this component is labeled using the number of the bias as gradmax-#.   </td></tr>
</table>
<dl class="section user"><dt>Compulsory keywords</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> BIAS </b> </td><td>the label of the VES bias to be optimized   </td></tr>
<tr>
<td width="15%"><b> STRIDE </b> </td><td>the frequency of updating the coefficients given in the number of MD steps.   </td></tr>
<tr>
<td width="15%"><b> COEFFS_FILE </b> </td><td>( default=coeffs.data ) the name of output file for the coefficients   </td></tr>
<tr>
<td width="15%"><b> COEFFS_OUTPUT </b> </td><td>( default=100 ) how often the coefficients should be written to file. This parameter is given as the number of iterations.   </td></tr>
<tr>
<td width="15%"><b> STEPSIZE </b> </td><td>the step size used for the optimization   </td></tr>
</table>
<dl class="section user"><dt>Options</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> MONITOR_INSTANTANEOUS_GRADIENT </b> </td><td>( default=off ) if quantities related to the instantaneous gradient should be outputted.   </td></tr>
<tr>
<td width="15%"><b> MULTIPLE_WALKERS </b> </td><td>( default=off ) if optimization is to be performed using multiple walkers connected via MPI   </td></tr>
<tr>
<td width="15%"><b> AMSGRAD </b> </td><td><p class="starttd">( default=off ) Use the AMSGrad variant  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td width="15%"><b> COEFFS_FMT </b> </td><td>specify format for coefficient file(s) (useful for decrease the number of digits in regtests)   </td></tr>
<tr>
<td width="15%"><b> COEFFS_SET_ID_PREFIX </b> </td><td>suffix to add to the filename given in FILE to identify the bias, should only be given if a single filename is given in FILE when optimizing multiple biases.   </td></tr>
<tr>
<td width="15%"><b> INITIAL_COEFFS </b> </td><td>the name(s) of file(s) with the initial coefficients   </td></tr>
<tr>
<td width="15%"><b> TARGETDIST_AVERAGES_FILE </b> </td><td>the name of output file for the target distribution averages. By default it is targetdist-averages.data.   </td></tr>
<tr>
<td width="15%"><b> TARGETDIST_AVERAGES_OUTPUT </b> </td><td>how often the target distribution averages should be written out to file. Note that the value is given in terms of coefficient iterations. If no value is given are the averages only written at the beginning of the optimization   </td></tr>
<tr>
<td width="15%"><b> BIAS_OUTPUT </b> </td><td>how often the bias(es) should be written out to file. Note that the value is given in terms of coefficient iterations.   </td></tr>
<tr>
<td width="15%"><b> FES_OUTPUT </b> </td><td>how often the FES(s) should be written out to file. Note that the value is given in terms of coefficient iterations.   </td></tr>
<tr>
<td width="15%"><b> FES_PROJ_OUTPUT </b> </td><td>how often the projections of the FES(s) should be written out to file. Note that the value is given in terms of coefficient iterations.   </td></tr>
<tr>
<td width="15%"><b> RESTART </b> </td><td>allows per-action setting of restart (YES/NO/AUTO)   </td></tr>
<tr>
<td width="15%"><b> UPDATE_FROM </b> </td><td>Only update this action from this time   </td></tr>
<tr>
<td width="15%"><b> UPDATE_UNTIL </b> </td><td>Only update this action until this time   </td></tr>
<tr>
<td width="15%"><b> MASK_FILE </b> </td><td>read in a mask file which allows one to employ different step sizes for different coefficients and/or deactivate the optimization of certain coefficients (by putting values of 0.0). One can write out the resulting mask by using the OUTPUT_MASK_FILE keyword.   </td></tr>
<tr>
<td width="15%"><b> OUTPUT_MASK_FILE </b> </td><td>Name of the file to write out the mask resulting from using the MASK_FILE keyword. Can also be used to generate a template mask file.   </td></tr>
<tr>
<td width="15%"><b> TARGETDIST_STRIDE </b> </td><td>stride for updating a target distribution that is iteratively updated during the optimization. Note that the value is given in terms of coefficient iterations.   </td></tr>
<tr>
<td width="15%"><b> TARGETDIST_OUTPUT </b> </td><td>how often the dynamic target distribution(s) should be written out to file. Note that the value is given in terms of coefficient iterations.   </td></tr>
<tr>
<td width="15%"><b> TARGETDIST_PROJ_OUTPUT </b> </td><td>how often the projections of the dynamic target distribution(s) should be written out to file. Note that the value is given in terms of coefficient iterations.   </td></tr>
<tr>
<td width="15%"><b> BETA_1 </b> </td><td>Parameter for the first moment estimate. Defaults to 0.9   </td></tr>
<tr>
<td width="15%"><b> BETA_2 </b> </td><td>Parameter for the second moment estimate. Defaults to 0.999   </td></tr>
<tr>
<td width="15%"><b> EPSILON </b> </td><td>Small parameter to avoid division by zero. Defaults to 1e-8   </td></tr>
<tr>
<td width="15%"><b> ADAMW_WEIGHT_DECAY </b> </td><td>Weight decay parameter for the AdamW variant. Defaults to 0   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="_add_mod.html">Additional Modules</a></li><li class="navelem"><a class="el" href="_v_e_s.html">Variationally Enhanced Sampling (VES code)</a></li><li class="navelem"><a class="el" href="ves_optimizer.html">Optimizers</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
