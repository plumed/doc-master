<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>PLUMED: driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script>
   var redpath = "";
   
   function showPath(eg,name) {
     var i; var y = document.getElementsByName(redpath);
     for (i=0; i < y.length; i++ ) { y[i].style.color="black"; }
     var x = document.getElementsByName(name); redpath=name;
     for (i = 0; i < x.length; i++) { x[i].style.color="red"; }
     var valid="value_details_".concat(eg);
     var valueField = document.getElementById(valid);
     var dataField = document.getElementById(name);
     valueField.innerHTML = dataField.innerHTML;
   }
   function swapInput(name) {
     var btn = document.getElementById(name + "_button");
     var mydiv = document.getElementById("input_" + name);
     if( btn.textContent=="expand shortcuts" ) {
         btn.textContent = "contract shortcuts";
         var dataField = document.getElementById(name + "long");
         mydiv.innerHTML = dataField.innerHTML;
     } else if( btn.textContent=="contract shortcuts" ) {
         btn.textContent = "expand shortcuts";
         var dataField = document.getElementById(name + "short");
         mydiv.innerHTML = dataField.innerHTML;
     }
   }
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.11.0-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('driver.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">driver </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table align="center" frame="void" width="95%%" celpadding="5%%">
<tr>
<td width="70%%"></td><td><b> This is part of the cltools <a class="el" href="mymodules.html">module </a></b>   </td></tr>
</table>
<p>driver is a tool that allows one to to use plumed to post-process an existing trajectory.</p>
<p>The input to driver is specified using the command line arguments described below.</p>
<p>In addition, you can use the special <a class="el" href="_r_e_a_d.html">READ</a> command inside your plumed input to read in colvar files that were generated during your MD simulation. The values read in can then be treated like calculated colvars.</p>
<dl class="section warning"><dt>Warning</dt><dd>Notice that by default the driver has no knowledge about the masses and charges of your atoms! Thus, if you want to compute quantities depending charges (e.g. <a class="el" href="_d_h_e_n_e_r_g_y.html">DHENERGY</a>) or masses (e.g. <a class="el" href="_c_o_m.html">COM</a>) you should pass the proper information to the driver. You can do it either with the &ndash;pdb option or with the &ndash;mc option. The latter will read a file produced by <a class="el" href="_d_u_m_p_m_a_s_s_c_h_a_r_g_e.html">DUMPMASSCHARGE</a> .</dd></dl>
<dl class="section user"><dt>Examples</dt><dd></dd></dl>
<p>The following command tells plumed to post process the trajectory contained in <code>trajectory.xyz</code> by performing the actions described in the input file <code>plumed.dat</code>. If an action that takes the stride keyword is given a stride equal to \(n\) then it will be performed only on every \(n\)th frames in the trajectory file. </p><pre class="fragment">plumed driver --plumed plumed.dat --ixyz trajectory.xyz
</pre><p>Notice that <code>xyz</code> files are expected to be in internal PLUMED units, that is by default nm. You can change this behavior by using the <code>--length-units</code> option: </p><pre class="fragment">plumed driver --plumed plumed.dat --ixyz trajectory.xyz --length-units A
</pre><p> The strings accepted by the <code>--length-units</code> options are the same ones accepted by the <a class="el" href="_u_n_i_t_s.html">UNITS</a> action. Other file formats typically have their default coordinates (e.g., <code>gro</code> files are always in nm) and it thus should not be necessary to use the <code>--length-units</code> option. Additionally, consider that the units used by the <code>driver</code> might be different by the units used in the PLUMED input file <code>plumed.dat</code>. For instance consider the command: </p><pre class="fragment">plumed driver --plumed plumed.dat --ixyz trajectory.xyz --length-units A
</pre><p> where <code>plumed.dat</code> is </p>
<div style="width: 90%; float:left" id="value_details_eg1"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested on master" /></div><pre style="width: 97%;" class="fragment">
<span style="color:blue"># no explicit UNITS action here</span>
<b name="eg1d" onclick='showPath("eg1","eg1d")'>d: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=1,2 <span style="display:none;" id="eg1d">The DISTANCE action with label <b>d</b> calculates a single scalar value</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_p_r_i_n_t.html" style="color:green">PRINT</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the labels of the values that you would like to print to the file <i></i></div></div>=<b name="eg1d">d</b> <div class="tooltip">FILE<div class="right">the name of the file on which to output these quantities <i></i></div></div>=colvar <span style="display:none;" id="eg1">The PRINT action with label <b></b></span>
</pre>
<p> In this case, the driver reads the <code>xyz</code> file assuming it to contain coordinates in Angstrom units. However, the resulting <code>colvar</code> file contains a distance expressed in nm.</p>
<p>The following command tells plumed to post process the trajectory contained in trajectory.xyz. by performing the actions described in the input file plumed.dat. </p><pre class="fragment">plumed driver --plumed plumed.dat --ixyz trajectory.xyz --trajectory-stride 100 --timestep 0.001
</pre><p> Here though <code>--trajectory-stride</code> is set equal to the frequency with which frames were output during the trajectory and the <code>--timestep</code> is equal to the simulation timestep. As such the <code>STRIDE</code> parameters in the <code>plumed.dat</code> files are referred to the original timestep and any files output resemble those that would have been generated had we run the calculation we are running with driver when the MD simulation was running.</p>
<p>PLUMED can read xyz files (in PLUMED units) and gro files (in nm). In addition, PLUMED includes by default support for a subset of the trajectory file formats supported by VMD, e.g. xtc and dcd:</p>
<pre class="fragment">plumed driver --plumed plumed.dat --pdb diala.pdb --mf_xtc traj.xtc --trajectory-stride 100 --timestep 0.001
</pre><p>where <code>--mf_</code> prefixes the extension of one of the accepted molfile plugin format. If PLUMED has been <a class="el" href="sizeshape_m_o_d.html#Installation">installed</a> with full molfile support, other formats will be available. Just type <code>plumed driver --help</code> to see which plugins are available.</p>
<p>Molfile plugin require periodic cell to be triangular (i.e. first vector oriented along x and second vector in xy plane). This is true for many MD codes. However, it could be false if you rotate the coordinates in your trajectory before reading them in the driver. Also notice that some formats (e.g. amber crd) do not specify atom number. In this case you can use the <code>--natoms</code> option: </p><pre class="fragment">plumed driver --plumed plumed.dat --imf_crd trajectory.crd --natoms 128
</pre><p>Check the available molfile plugins and limitations at <a href="http://www.ks.uiuc.edu/Research/vmd/plugins/molfile/">this link</a>.</p>
<p>Additionally, you can use the xdrfile implementation of xtc and trr. To this aim, just download and install properly the xdrfile library (see <a href="http://www.gromacs.org/Developer_Zone/Programming_Guide/XTC_Library">this link</a>). If the xdrfile library is installed properly the PLUMED configure script should be able to detect it and enable it. Notice that the xdrfile implementation of xtc and trr is more robust than the molfile one, since it provides support for generic cell shapes. In addition, it allows <a class="el" href="_d_u_m_p_a_t_o_m_s.html">DUMPATOMS</a> to write compressed xtc files.</p>
<dl class="section user"><dt>Glossary of keywords and components</dt><dd></dd></dl>
<dl class="section user"><dt>The input trajectory is specified using one of the following</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> <code>--ixyz</code> </b> </td><td>the trajectory in xyz format   </td></tr>
<tr>
<td width="15%"><b> <code>--igro</code> </b> </td><td>the trajectory in gro format   </td></tr>
<tr>
<td width="15%"><b> <code>--idlp4</code> </b> </td><td>the trajectory in DL_POLY_4 format   </td></tr>
<tr>
<td width="15%"><b> <code>--ixtc</code> </b> </td><td>the trajectory in xtc format (xdrfile implementation)   </td></tr>
<tr>
<td width="15%"><b> <code>--itrr</code> </b> </td><td>the trajectory in trr format (xdrfile implementation)   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_dcd</code> </b> </td><td>molfile: the trajectory in dcd format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_crd</code> </b> </td><td>molfile: the trajectory in crd format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_crdbox</code> </b> </td><td>molfile: the trajectory in crdbox format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_gro</code> </b> </td><td>molfile: the trajectory in gro format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_g96</code> </b> </td><td>molfile: the trajectory in g96 format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_trr</code> </b> </td><td>molfile: the trajectory in trr format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_trj</code> </b> </td><td>molfile: the trajectory in trj format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_xtc</code> </b> </td><td>molfile: the trajectory in xtc format   </td></tr>
<tr>
<td width="15%"><b> <code>--mf_pdb</code> </b> </td><td>molfile: the trajectory in pdb format   </td></tr>
</table>
<dl class="section user"><dt>The following must be present</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> <code>--plumed</code> </b> </td><td>( default=plumed.dat ) specify the name of the plumed input file   </td></tr>
<tr>
<td width="15%"><b> <code>--timestep</code> </b> </td><td>( default=1.0 ) the timestep that was used in the calculation that produced this trajectory in picoseconds   </td></tr>
<tr>
<td width="15%"><b> <code>--trajectory-stride</code> </b> </td><td>( default=1 ) the frequency with which frames were output to this trajectory during the simulation (0 means that the number of the step is read from the trajectory file, currently working only for xtc/trr files read with &ndash;ixtc/&ndash;trr)   </td></tr>
<tr>
<td width="15%"><b> <code>--multi</code> </b> </td><td>( default=0 ) set number of replicas for multi environment (needs MPI)   </td></tr>
</table>
<dl class="section user"><dt>The following options are available</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> <code>--help/-h</code> </b> </td><td>( default=off ) print this help   </td></tr>
<tr>
<td width="15%"><b> <code>--help-debug</code> </b> </td><td>( default=off ) print special options that can be used to create regtests   </td></tr>
<tr>
<td width="15%"><b> <code>--noatoms</code> </b> </td><td>( default=off ) don't read in a trajectory. Just use colvar files as specified in plumed.dat   </td></tr>
<tr>
<td width="15%"><b> <code>--parse-only</code> </b> </td><td>( default=off ) read the plumed input file and stop   </td></tr>
<tr>
<td width="15%"><b> <code>--restart</code> </b> </td><td>( default=off ) makes driver behave as if restarting   </td></tr>
<tr>
<td width="15%"><b> <code>--dump-full-virial</code> </b> </td><td><p class="starttd">( default=off ) with &ndash;dump-forces, it dumps the 9 components of the virial  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td width="15%"><b> <code>--shortcut-ofile</code> </b> </td><td>the name of the file to output info on the way shortcuts have been expanded. If there are no shortcuts in your input file nothing is output   </td></tr>
<tr>
<td width="15%"><b> <code>--valuedict-ofile</code> </b> </td><td>output a dictionary giving information about each value in the input file   </td></tr>
<tr>
<td width="15%"><b> <code>--length-units</code> </b> </td><td>units for length, either as a string or a number   </td></tr>
<tr>
<td width="15%"><b> <code>--mass-units</code> </b> </td><td>units for mass in pdb and mc file, either as a string or a number   </td></tr>
<tr>
<td width="15%"><b> <code>--charge-units</code> </b> </td><td>units for charge in pdb and mc file, either as a string or a number   </td></tr>
<tr>
<td width="15%"><b> <code>--kt</code> </b> </td><td>set \(k_B T\), it will not be necessary to specify temperature in input file   </td></tr>
<tr>
<td width="15%"><b> <code>--dump-forces</code> </b> </td><td>dump the forces on a file   </td></tr>
<tr>
<td width="15%"><b> <code>--dump-forces-fmt</code> </b> </td><td>( default=%f ) the format to use to dump the forces   </td></tr>
<tr>
<td width="15%"><b> <code>--pdb</code> </b> </td><td>provides a pdb with masses and charges   </td></tr>
<tr>
<td width="15%"><b> <code>--mc</code> </b> </td><td>provides a file with masses and charges as produced with DUMPMASSCHARGE   </td></tr>
<tr>
<td width="15%"><b> <code>--box</code> </b> </td><td>comma-separated box dimensions (3 for orthorhombic, 9 for generic)   </td></tr>
<tr>
<td width="15%"><b> <code>--natoms</code> </b> </td><td>provides number of atoms - only used if file format does not contain number of atoms   </td></tr>
<tr>
<td width="15%"><b> <code>--initial-step</code> </b> </td><td>provides a number for the initial step, default is 0   </td></tr>
<tr>
<td width="15%"><b> <code>--debug-forces</code> </b> </td><td>output a file containing the forces due to the bias evaluated using numerical derivatives and using the analytical derivatives implemented in plumed   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="tools.html">Command Line Tools</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
