<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>PLUMED: Version 2.8</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script>
   var redpath = "";
   
   function showPath(eg,name) {
     var i; var y = document.getElementsByName(redpath);
     for (i=0; i < y.length; i++ ) { y[i].style.color="black"; }
     var x = document.getElementsByName(name); redpath=name;
     for (i = 0; i < x.length; i++) { x[i].style.color="red"; }
     var valid="value_details_".concat(eg);
     var valueField = document.getElementById(valid);
     var dataField = document.getElementById(name);
     valueField.innerHTML = dataField.innerHTML;
   }
   function swapInput(name) {
     var btn = document.getElementById(name + "_button");
     var mydiv = document.getElementById("input_" + name);
     if( btn.textContent=="expand shortcuts" ) {
         btn.textContent = "contract shortcuts";
         var dataField = document.getElementById(name + "long");
         mydiv.innerHTML = dataField.innerHTML;
     } else if( btn.textContent=="contract shortcuts" ) {
         btn.textContent = "expand shortcuts";
         var dataField = document.getElementById(name + "short");
         mydiv.innerHTML = dataField.innerHTML;
     }
   }
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.11.0-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_c_h_a_n_g_e_s-2-8.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Version 2.8 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md59"></a>
Version 2.8 (Feb 22, 2022)</h2>
<p>Changes from version 2.7 which are relevant for users:</p>
<ul>
<li>Changes leading to differences with previous versions<ul>
<li>in <a class="el" href="_m_e_t_a_d.html">METAD</a> and <a class="el" href="_p_b_m_e_t_a_d.html">PBMETAD</a>, Gaussians are now stretched rather than truncated, making the energy a continuous function of the collective variable. See <a href="http://github.com/plumed/plumed2/issues/420">#420</a>.</li>
<li><a class="el" href="sum_hills.html">sum_hills</a> is now aware of stretched Gaussians. This change also fixes a minor bug in the set of grid points where Gaussians were different from zero that is still present up to version 2.7.</li>
<li>it is possible to restart from a HILLS file produced with PLUMED &lt; 2.8, but Gaussians will be reinterpreted as stretched and a warning will be written in the log file. This might lead to small numerical changes in bias potentials.</li>
<li>in <a class="el" href="_m_e_t_a_d.html">METAD</a> if possible the root walker in WALKERS_MPI will set the folder from which reading the GRID/HILLS file upon restart</li>
<li>in <a class="el" href="_m_e_t_a_d.html">METAD</a> work is not calculated by default anymore, if needed it can be obtained using CALC_WORK</li>
<li>in <a class="el" href="_m_e_t_a_d.html">METAD</a> an error will be thrown if, when restarting from FILE, the file is not found</li>
<li>the parser is more strict. Specifically, the explicitly crashes when a string cannot be parsed correctly. This was true only in a limited number of cases until v2.7 and might lead to errors when reading incorrectly formatted files. See <a href="http://github.com/plumed/plumed2/issues/717">#717</a>.</li>
</ul>
</li>
<li>New actions:<ul>
<li><a class="el" href="_g_h_b_f_i_x.html">GHBFIX</a> to compute generalized hydrogen-bond fixes</li>
</ul>
</li>
<li>New contributed module:<ul>
<li>A new SASA module by Andrea Arsiccio<ul>
<li><a class="el" href="_s_a_s_a__h_a_s_e_l.html">SASA_HASEL</a></li>
<li><a class="el" href="_s_a_s_a__l_c_p_o.html">SASA_LCPO</a></li>
</ul>
</li>
<li>A new S2 contact model module by Omar Valsson<ul>
<li><a class="el" href="_s2_c_m.html">S2CM</a></li>
</ul>
</li>
</ul>
</li>
<li>Fixed patches:<ul>
<li>A bug in using GROMACS with expanded ensemble in combination with PLUMED has been fixed (version 2020.6 and 2021.4, see <a href="http://github.com/plumed/plumed2/issues/793">#793</a>). Notice that this fix requires PLUMED 2.8, so it won't be backward compatible.</li>
</ul>
</li>
<li>Other improvements<ul>
<li>in <a class="el" href="_m_e_t_a_d.html">METAD</a> a new keyword NLIST has been added to use a neighbor list for bias evaluation, this should be faster than grids with many CVs</li>
<li>in <a class="el" href="_m_e_t_a_d.html">METAD</a> there are more checks that a restart of WALKERS_MPI is working consistently among walkers</li>
<li>in <a class="el" href="driver.html">driver</a> there is a flag <code>--restart</code> that can be used to enforce restart (similar to using <a class="el" href="_r_e_s_t_a_r_t.html">RESTART</a> in the PLUMED input file).</li>
<li>Added configure option <code>--enable-cxx</code>. Can be used to select C++14 with <code>--enable-cxx=14</code>. Required to compile against libraries whose header files need C++14.</li>
</ul>
</li>
<li>Changes in the OPES module<ul>
<li>new action <a class="el" href="_o_p_e_s__e_x_p_a_n_d_e_d.html">OPES_EXPANDED</a></li>
<li>various new actions of type EXPANSION_CV to be used with <a class="el" href="_o_p_e_s__e_x_p_a_n_d_e_d.html">OPES_EXPANDED</a></li>
<li>new action <a class="el" href="_o_p_e_s__m_e_t_a_d__e_x_p_l_o_r_e.html">OPES_METAD_EXPLORE</a></li>
<li>new option EXTRA_BIAS in <a class="el" href="_o_p_e_s__m_e_t_a_d.html">OPES_METAD</a>, to sample custom target distributions</li>
<li>new option EXCLUDED_REGION in <a class="el" href="_o_p_e_s__m_e_t_a_d.html">OPES_METAD</a>, to define a region where no kernels are deposited</li>
</ul>
</li>
<li>Changes in the VES module<ul>
<li>New localized basis functions: Wavelets (<a class="el" href="_b_f__w_a_v_e_l_e_t_s.html">BF_WAVELETS</a>), Gaussians (<a class="el" href="_b_f__g_a_u_s_s_i_a_n_s.html">BF_GAUSSIANS</a>), and cubic splines (<a class="el" href="_b_f__c_u_b_i_c__b__s_p_l_i_n_e_s.html">BF_CUBIC_B_SPLINES</a>). In particular, symmetric wavelets (symlets) have shown the best performance and are recommended of the localized basis functions. Furthermore, symlets have been shown to perform better than delocalized Chebyshev and Legendre polynomials. <br  />
</li>
<li>New optimizer based on Adam (<a class="el" href="_o_p_t__a_d_a_m.html">OPT_ADAM</a>). Still experimental, and restarting with it does not work yet.</li>
<li>New optimizer based on classical Robbins Monro stochastic gradient descent (<a class="el" href="_o_p_t__r_o_b_b_i_n_s__m_o_n_r_o__s_g_d.html">OPT_ROBBINS_MONRO_SGD</a>). Only included for reference and not recommended for usage in simulations.</li>
<li>Fixed a bug in <a class="el" href="_v_e_s__l_i_n_e_a_r__e_x_p_a_n_s_i_o_n.html">VES_LINEAR_EXPANSION</a> for multidimensional bias potential if one (or more) of the CVs is outside the range of the bias potential. Previously, there was a force acting on the CVs if this happened. Now, there is no biasing force acting on the CVs if one (or more) of the CVs is outside the bias potential range.</li>
</ul>
</li>
<li>Changes in the DRR module<ul>
<li>Added a new option MERGEHISTORYFILES to output a single history file instead of many .drrstate files.</li>
</ul>
</li>
<li>For developers:<ul>
<li>The C++ interface now performs type checking (see <a href="https://github.com/plumed/plumed2/pull/653">https://github.com/plumed/plumed2/pull/653</a>). This should require no change for MD codes that were calling PLUMED with correct arguments. Checks could be disabled at runtime with <code>export PLUMED_TYPESAFE_IGNORE=yes</code>.</li>
<li>Two new Fortran modules have been added. One of them provides explicit interfaces for the already available wrappers. With no change in calling code, just by including this module, one could perform runtime type/shape checking. In addition, a novel object oriented Fortran interface has been designed which allow to better manipulate PLUMED instances from Fortran. Both interfaces were written with a significant help from Balint Aradi.</li>
<li>The C interface (<code>plumed_cmd</code>) also performs type checking and allows overload-like syntax to pass additional size and shape information. This is obtained redefining <code>plumed_cmd</code> to a macro that calls the C++ interface, when using a C++ compiler, or using C11 <code>_Generic</code>, if the C compiler supports it. This feature is not supported if used a pre-C11 C compiler (pre-C++11 C++ compilers are ok instead).</li>
<li><code>xxd</code> replaced by a awk script. This removed the build dependence on vim.</li>
<li>Lepton has been updated with OpenMM 7.6.0</li>
<li>Asmjit is now enabled by default on supported architectures.</li>
<li>Xdrfile library is now embedded and always available.</li>
<li><code>--enable-rpath</code> now also includes the path where <code>libplumedKernel.so</code> is installed (see <a href="http://github.com/plumed/plumed2/issues/767">#767</a>).</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md60"></a>
Version 2.8.1 (Oct 21, 2022)</h2>
<ul>
<li>Includes all fixes up to 2.7.5</li>
<li>It is now possible to pass a mpi4py communicator from the Python interface. This is backported from master, see <a href="http://github.com/plumed/plumed2/issues/818">#818</a> (thanks to Henrique Musseli Cezar).</li>
<li>Fix in <code>--enable-rpath</code> (see <a href="http://github.com/plumed/plumed2/issues/807">#807</a>).</li>
<li>Updated gromacs patches</li>
<li>Fixed gromacs patches (2020 and 2021) to solve <a href="http://github.com/plumed/plumed2/issues/829">#829</a>.</li>
<li>Fixed a few incorrect <code>const</code> conversions in <code>wrapper/Plumed.h</code>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md61"></a>
Version 2.8.2 (Mar 13, 2023)</h2>
<ul>
<li>Includes all fixes up to 2.7.6</li>
<li>Fixed a regression introduced in v2.8.0 which would make multi-thread simulations, with a separate Plumed object in each thread, crash randomly</li>
<li>Fixed a bug in <a class="el" href="_s_a_x_s.html">SAXS</a> cv using recent versions of arrayfire</li>
<li>Fixed a bug in the GROMACS 2022 patch when atoms reordering happens also without domain decompisition: needs patch to be reapplied</li>
<li>Updated GROMACS patches to warn about the joint use of update gpu and plumed: needs patch to be reapplied</li>
<li>GROMACS patches for v2021 and v2022 have been updated to use -rerun with -plumed again: needs patch to be reapplied</li>
<li>Fixed a few cases where plumed was aborting rather than throwing an exception</li>
<li>Fixed <code>wrapper/Plumed.h</code> so that more compilers are covered (see <a href="http://github.com/plumed/plumed2/issues/897">#897</a>).</li>
</ul>
<h2><a class="anchor" id="autotoc_md62"></a>
Version 2.8.3 (May 25, 2023)</h2>
<ul>
<li>Fixed a numerical instability in <a class="el" href="_o_p_e_s__e_x_p_a_n_d_e_d.html">OPES_EXPANDED</a> that could cause <code>-inf</code> to appear in the DELTAFS file when biasing large systems</li>
<li>Small fixes in the test suite to make sure <code>plumed</code> is always invoked with <code>--no-mpi</code> when testing for features. This avoids problems that were appearing when testing with some specific versions of OpenMPI.</li>
</ul>
<h2><a class="anchor" id="autotoc_md63"></a>
Version 2.8.4 (Jun 3, 2024)</h2>
<dl class="section warning"><dt>Warning</dt><dd>This branch is not maintained. Users are invited to upgrade to a newer version</dd></dl>
<ul>
<li>Added the possibility to disable <code>RTLD_DEEPBIND</code> (see <a href="http://github.com/plumed/plumed2/issues/952">#952</a>).</li>
<li>Fixed a bug in <code>switchingfunction</code> mode <code>Q</code> thanks to @nm3787, (see #951)</li>
<li>Improved error reporting in CUSTOM switching function: an error is thrown if one uses <code>x</code> and <code>x2</code> arguments simultaneously (reported by Olivier Languin-Cattoen).</li>
<li>Fixed bug in diagonalization of fixed-sized matrices that could lead to segmentation faults in the following case: RMSD calculations with <code>TYPE=OPTIMAL</code>, same weights used for alignment and displacement, either the running frame or the reference frame is invariant for rotation (i.e., atoms are placed along a straight line). This was happening in <a href="https://github.com/plumed/plumed2/pull/1033#issuecomment-1976380245">benchmark tests in version 2.10</a>, and is very unlikely (but possible) in real simulations. In addition, the diagMatSym function on fixed size tensors was incorrectly modifying its argument matrix. By inspection of the places this was used (RMSD and Gyration), this should have no effect since a temporary matrix is built, diagonalized, and discarded in all those cases, but it has been fixed nonetheless.</li>
<li>Removed a number of incorrect dependencies between modules</li>
<li>Addressed numerical instabilities in the calculation of the derivative of the SwitchingFunction RATIONAL without simplification (where <code>NN!=2*MM</code>) around <code>d=R_0</code>.</li>
<li>Fixed an error in checking array shapes in the interface. Arrays with shape (N,4) should not be accepted for positions or forces.</li>
<li>Small fix in Python, where we do not assume anymore that strings are null terminated.</li>
<li>Environment variables such as <code>PLUMED_INCLUDEDIR</code> and similar are sanitized before they are used for running commands.</li>
<li>Fixed a bug leading to a crash when using python selectors (e.g., <code>@mda:</code> or <code>@mdt:</code>) and multiple MPI processes per replica.</li>
<li>Fixed leaks in Subprocess, potentially givin problems with a large number (&gt;250) of sequentially created plumed objects all of them using <code>@mda:</code> or <code>@mdt:</code> selectors.</li>
<li>Quantum Espresso patches have been fixed for a bug leading to incorrect masses passed to PLUMED and for a missing string terminator. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="_change_log.html">Change Log</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
