<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>PLUMED: sum_hills</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script>
   var redpath = "";
   
   function showPath(eg,name) {
     var i; var y = document.getElementsByName(redpath);
     for (i=0; i < y.length; i++ ) { y[i].style.color="black"; }
     var x = document.getElementsByName(name); redpath=name;
     for (i = 0; i < x.length; i++) { x[i].style.color="red"; }
     var valid="value_details_".concat(eg);
     var valueField = document.getElementById(valid);
     var dataField = document.getElementById(name);
     valueField.innerHTML = dataField.innerHTML;
   }
   function swapInput(name) {
     var btn = document.getElementById(name + "_button");
     var mydiv = document.getElementById("input_" + name);
     if( btn.textContent=="expand shortcuts" ) {
         btn.textContent = "contract shortcuts";
         var dataField = document.getElementById(name + "long");
         mydiv.innerHTML = dataField.innerHTML;
     } else if( btn.textContent=="contract shortcuts" ) {
         btn.textContent = "expand shortcuts";
         var dataField = document.getElementById(name + "short");
         mydiv.innerHTML = dataField.innerHTML;
     }
   }
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.11.0-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sum_hills.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">sum_hills </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table align="center" frame="void" width="95%%" celpadding="5%%">
<tr>
<td width="70%%"></td><td><b> This is part of the cltools <a class="el" href="mymodules.html">module </a></b>   </td></tr>
</table>
<p>sum_hills is a tool that allows one to to use plumed to post-process an existing hills/colvar file</p>
<dl class="section user"><dt>Examples</dt><dd></dd></dl>
<p>a typical case is about the integration of a hills file:</p>
<pre class="fragment">plumed sum_hills  --hills PATHTOMYHILLSFILE
</pre><p>The default name for the output file will be fes.dat Note that starting from this version plumed will automatically detect the number of the variables you have and their periodicity. Additionally, if you use flexible hills (multivariate Gaussian kernels), plumed will understand it from the HILLS file.</p>
<p>The sum_hills tool will also accept multiple files that will be integrated one after the other</p>
<pre class="fragment">plumed sum_hills  --hills PATHTOMYHILLSFILE1,PATHTOMYHILLSFILE2,PATHTOMYHILLSFILE3
</pre><p>if you want to integrate out some variable you do</p>
<pre class="fragment">plumed sum_hills  --hills PATHTOMYHILLSFILE   --idw t1 --kt 0.6
</pre><p>where with &ndash;idw you define the variables that you want all the others will be integrated out. &ndash;kt defines the temperature of the system in energy units. (be consistent with the units you have in your hills: plumed will not check this for you) If you need more variables then you may use a comma separated syntax</p>
<pre class="fragment">plumed sum_hills  --hills PATHTOMYHILLSFILE   --idw t1,t2 --kt 0.6
</pre><p>You can define the output grid only with the number of bins you want while min/max will be detected for you</p>
<pre class="fragment">plumed sum_hills --bin 99,99 --hills PATHTOMYHILLSFILE
</pre><p>or full grid specification</p>
<pre class="fragment">plumed sum_hills --bin 99,99 --min -pi,-pi --max pi,pi --hills PATHTOMYHILLSFILE
</pre><p>You can of course use numbers instead of -pi/pi.</p>
<p>You can use a &ndash;stride keyword to have a dump each bunch of hills you read </p><pre class="fragment">plumed sum_hills --stride 300 --hills PATHTOMYHILLSFILE
</pre><p>You can also have, in case of well tempered metadynamics, only the negative bias instead of the free energy through the keyword &ndash;negbias</p>
<pre class="fragment">plumed sum_hills --negbias --hills PATHTOMYHILLSFILE
</pre><p>Here the default name will be negativebias.dat</p>
<p>From time to time you might need to use HILLS or a COLVAR file as it was just a simple set of points from which you want to build a free energy by using -(1/beta)log(P) then you use &ndash;histo</p>
<pre class="fragment">plumed sum_hills --histo PATHTOMYCOLVARORHILLSFILE  --sigma 0.2,0.2 --kt 0.6
</pre><p>in this case you need a &ndash;kt to do the reweighting and then you need also some width (with the &ndash;sigma keyword) for the histogram calculation (actually will be done with Gaussian kernels, so it will be a continuous histogram) Here the default output will be histo.dat. Note that also here you can have multiple input files separated by a comma.</p>
<p>Additionally, if you want to do histogram and hills from the same file you can do as this </p><pre class="fragment">plumed sum_hills --hills --histo PATHTOMYCOLVARORHILLSFILE  --sigma 0.2,0.2 --kt 0.6
</pre><p> The two files can be eventually the same</p>
<p>Another interesting thing one can do is monitor the difference in blocks as a metadynamics goes on. When the bias deposited is constant over the whole domain one can consider to be at convergence. This can be done with the &ndash;nohistory keyword</p>
<pre class="fragment">plumed sum_hills --stride 300 --hills PATHTOMYHILLSFILE  --nohistory
</pre><p>and similarly one can do the same for an histogram file</p>
<pre class="fragment">plumed sum_hills --histo PATHTOMYCOLVARORHILLSFILE  --sigma 0.2,0.2 --kt 0.6 --nohistory
</pre><p>just to check the hypothetical free energy calculated in single blocks of time during a simulation and not in a cumulative way</p>
<p>Output format can be controlled via the &ndash;fmt field</p>
<pre class="fragment">plumed sum_hills --hills PATHTOMYHILLSFILE  --fmt %8.3f
</pre><p>where here we chose a float with length of 8 and 3 digits</p>
<p>The output can be named in a arbitrary way :</p>
<pre class="fragment">plumed sum_hills --hills PATHTOMYHILLSFILE  --outfile myfes.dat
</pre><p>will produce a file myfes.dat which contains the free energy.</p>
<p>If you use stride, this keyword is the suffix</p>
<pre class="fragment">plumed sum_hills --hills PATHTOMYHILLSFILE  --outfile myfes_ --stride 100
</pre><p>will produce myfes_0.dat, myfes_1.dat, myfes_2.dat etc.</p>
<p>The same is true for the output coming from histogram </p><pre class="fragment">plumed sum_hills --histo HILLS --kt 2.5 --sigma 0.01 --outhisto myhisto.dat
</pre><p>is producing a file myhisto.dat while, when using stride, this is the suffix</p>
<pre class="fragment">plumed sum_hills --histo HILLS --kt 2.5 --sigma 0.01 --outhisto myhisto_ --stride 100
</pre><p>that gives myhisto_0.dat, myhisto_1.dat, myhisto_3.dat etc..</p>
<dl class="section user"><dt>Glossary of keywords and components</dt><dd></dd></dl>
<dl class="section user"><dt>Options</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> <code>--help/-h</code> </b> </td><td>( default=off ) print this help   </td></tr>
<tr>
<td width="15%"><b> <code>--help-debug</code> </b> </td><td>( default=off ) print special options that can be used to create regtests   </td></tr>
<tr>
<td width="15%"><b> <code>--negbias</code> </b> </td><td>( default=off ) print the negative bias instead of the free energy (only needed with well tempered runs and flexible hills)   </td></tr>
<tr>
<td width="15%"><b> <code>--nohistory</code> </b> </td><td>( default=off ) to be used with &ndash;stride: it splits the bias/histogram in pieces without previous history   </td></tr>
<tr>
<td width="15%"><b> <code>--mintozero</code> </b> </td><td><p class="starttd">( default=off ) it translate all the minimum value in bias/histogram to zero (useful to compare results)  </p>
<p class="endtd"></p>
</td></tr>
<tr>
<td width="15%"><b> <code>--hills</code> </b> </td><td>specify the name of the hills file   </td></tr>
<tr>
<td width="15%"><b> <code>--histo</code> </b> </td><td>specify the name of the file for histogram a colvar/hills file is good   </td></tr>
<tr>
<td width="15%"><b> <code>--stride</code> </b> </td><td>specify the stride for integrating hills file (default 0=never)   </td></tr>
<tr>
<td width="15%"><b> <code>--min</code> </b> </td><td>the lower bounds for the grid   </td></tr>
<tr>
<td width="15%"><b> <code>--max</code> </b> </td><td>the upper bounds for the grid   </td></tr>
<tr>
<td width="15%"><b> <code>--bin</code> </b> </td><td>the number of bins for the grid   </td></tr>
<tr>
<td width="15%"><b> <code>--spacing</code> </b> </td><td>grid spacing, alternative to the number of bins   </td></tr>
<tr>
<td width="15%"><b> <code>--idw</code> </b> </td><td>specify the variables to be used for the free-energy/histogram (default is all). With &ndash;hills the other variables will be integrated out, with &ndash;histo the other variables won't be considered   </td></tr>
<tr>
<td width="15%"><b> <code>--outfile</code> </b> </td><td>specify the output file for sumhills   </td></tr>
<tr>
<td width="15%"><b> <code>--outhisto</code> </b> </td><td>specify the output file for the histogram   </td></tr>
<tr>
<td width="15%"><b> <code>--kt</code> </b> </td><td>specify temperature in energy units for integrating out variables   </td></tr>
<tr>
<td width="15%"><b> <code>--sigma</code> </b> </td><td>a vector that specify the sigma for binning (only needed when doing histogram   </td></tr>
<tr>
<td width="15%"><b> <code>--fmt</code> </b> </td><td>specify the output format   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="tools.html">Command Line Tools</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
