<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>PLUMED: CUSTOM</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script>
   var redpath = "";
   
   function showPath(eg,name) {
     var i; var y = document.getElementsByName(redpath);
     for (i=0; i < y.length; i++ ) { y[i].style.color="black"; }
     var x = document.getElementsByName(name); redpath=name;
     for (i = 0; i < x.length; i++) { x[i].style.color="red"; }
     var valid="value_details_".concat(eg);
     var valueField = document.getElementById(valid);
     var dataField = document.getElementById(name);
     valueField.innerHTML = dataField.innerHTML;
   }
   function swapInput(name) {
     var btn = document.getElementById(name + "_button");
     var mydiv = document.getElementById("input_" + name);
     if( btn.textContent=="expand shortcuts" ) {
         btn.textContent = "contract shortcuts";
         var dataField = document.getElementById(name + "long");
         mydiv.innerHTML = dataField.innerHTML;
     } else if( btn.textContent=="contract shortcuts" ) {
         btn.textContent = "expand shortcuts";
         var dataField = document.getElementById(name + "short");
         mydiv.innerHTML = dataField.innerHTML;
     }
   }
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.11.0-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_c_u_s_t_o_m.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">CUSTOM </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table align="center" frame="void" width="95%%" celpadding="5%%">
<tr>
<td width="70%%"></td><td><b> This is part of the function <a class="el" href="mymodules.html">module </a></b>   </td></tr>
</table>
<p>Calculate a combination of variables using a custom expression.</p>
<p>This action computes an arbitrary function of one or more collective variables. Arguments are chosen with the ARG keyword, and the function is provided with the FUNC string. Notice that this string should contain no space. Within FUNC, one can refer to the arguments as x,y,z, and t (up to four variables provided as ARG). This names can be customized using the VAR keyword (see examples below).</p>
<p>This function is implemented using the Lepton library, that allows to evaluate algebraic expressions and to automatically differentiate them.</p>
<p>If you want a function that depends not only on collective variables but also on time you can use the <a class="el" href="_t_i_m_e.html">TIME</a> action.</p>
<dl class="section user"><dt>Examples</dt><dd></dd></dl>
<p>The following input tells plumed to perform a metadynamics using as a CV the difference between two distances. </p>
<div style="width: 80%; float:left" id="value_details_eg1"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><button type="button" id="eg1_button" onclick='swapInput("eg1")'>contract shortcuts</button></div><div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested on master" /></div><div style="width: 100%; float:left" id="input_eg1"></div>
<pre style="width: 97%;" class="fragment"></pre>
<script type="text/javascript">
if (window.addEventListener) { // Mozilla, Netscape, Firefox
    window.addEventListener('load', eg1Load, false);
} else if (window.attachEvent) { // IE
    window.attachEvent('onload', eg1Load);
}
function eg1Load(event) {
       swapInput("eg1");
}
</script>
<div style="display:none;" id="eg1short">
<pre style="width: 97%;" class="fragment">
<b name="eg1shortdAB" onclick='showPath("eg1","eg1shortdAB")'>dAB: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=10,12 <span style="display:none;" id="eg1shortdAB">The DISTANCE action with label <b>dAB</b> calculates a single scalar value</span>
<b name="eg1shortdAC" onclick='showPath("eg1","eg1shortdAC")'>dAC: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=10,15 <span style="display:none;" id="eg1shortdAC">The DISTANCE action with label <b>dAC</b> calculates a single scalar value</span>
<b name="eg1shortdiff" onclick='showPath("eg1","eg1shortdiff")'>diff: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_c_u_s_t_o_m.html" style="color:green">CUSTOM</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the values input to this function <i></i></div></div>=<b name="eg1shortdAB">dAB</b>,<b name="eg1shortdAC">dAC</b> <div class="tooltip">FUNC<div class="right"><b>compulsory keyword </b>
the function you wish to evaluate <i></i></div></div>=y-x <div class="tooltip">PERIODIC<div class="right"><b>compulsory keyword </b>
if the output of your function is periodic then you should specify the periodicity
of the function. <i></i></div></div>=NO <span style="display:none;" id="eg1shortdiff">The CUSTOM action with label <b>diff</b> calculates a single scalar value</span>
<span style="color:blue"># notice: the previous line could be replaced with the following</span>
<span style="color:blue"># diff: COMBINE ARG=dAB,dAC COEFFICIENTS=-1,1</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_m_e_t_a_d.html" style="color:green">METAD</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the labels of the scalars on which the bias will act <i></i></div></div>=<b name="eg1shortdiff">diff</b> <div class="tooltip">SIGMA<div class="right"><b>compulsory keyword </b>
the widths of the Gaussian hills <i></i></div></div>=0.1 <div class="tooltip">HEIGHT<div class="right">the heights of the Gaussian hills. <i></i></div></div>=0.5 <div class="tooltip">BIASFACTOR<div class="right">use well tempered metadynamics and use this bias factor. <i></i></div></div>=10 <div class="tooltip">PACE<div class="right"><b>compulsory keyword </b>
the frequency for hill addition <i></i></div></div>=100 <span style="display:none;" id="eg1short">The METAD action with label <b></b></span>
</pre>
</div>
<div style="display:none;" id="eg1long"><pre style="width: 97%;" class="fragment">
<b name="eg1longdAB" onclick='showPath("eg1","eg1longdAB")'>dAB: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=10,12 <span style="display:none;" id="eg1longdAB">The DISTANCE action with label <b>dAB</b> calculates a single scalar value</span>
<b name="eg1longdAC" onclick='showPath("eg1","eg1longdAC")'>dAC: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=10,15 <span style="display:none;" id="eg1longdAC">The DISTANCE action with label <b>dAC</b> calculates a single scalar value</span>
<span style="color:blue"># notice: the previous line could be replaced with the following</span>
<span style="color:blue"># diff: COMBINE ARG=dAB,dAC COEFFICIENTS=-1,1</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_m_e_t_a_d.html" style="color:green">METAD</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the labels of the scalars on which the bias will act <i></i></div></div>=diff <div class="tooltip">SIGMA<div class="right"><b>compulsory keyword </b>
the widths of the Gaussian hills <i></i></div></div>=0.1 <div class="tooltip">HEIGHT<div class="right">the heights of the Gaussian hills. <i></i></div></div>=0.5 <div class="tooltip">BIASFACTOR<div class="right">use well tempered metadynamics and use this bias factor. <i></i></div></div>=10 <div class="tooltip">PACE<div class="right"><b>compulsory keyword </b>
the frequency for hill addition <i></i></div></div>=100 <span style="display:none;" id="eg1long">The METAD action with label <b></b><p> (see also <a class="el" href="_d_i_s_t_a_n_c_e.html">DISTANCE</a>, <a class="el" href="_c_o_m_b_i_n_e.html">COMBINE</a>, and <a class="el" href="_m_e_t_a_d.html">METAD</a>). Notice that forces applied to diff will be correctly propagated to atoms 10, 12, and 15. Also notice that since CUSTOM is used without the VAR option the two arguments should be referred to as x and y in the expression FUNC. For simple functions such as this one it is possible to use <a class="el" href="_c_o_m_b_i_n_e.html">COMBINE</a>.</p>
<p>The following input tells plumed to print the angle between vectors identified by atoms 1,2 and atoms 2,3 its square (as computed from the x,y,z components) and the distance again as computed from the square root of the square. </p>
<div style="width: 80%; float:left" id="value_details_eg2"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><button type="button" id="eg2_button" onclick='swapInput("eg2")'>contract shortcuts</button></div><div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested on master" /></div><div style="width: 100%; float:left" id="input_eg2"></div>
<pre style="width: 97%;" class="fragment"></pre>
<script type="text/javascript">
if (window.addEventListener) { // Mozilla, Netscape, Firefox
    window.addEventListener('load', eg2Load, false);
} else if (window.attachEvent) { // IE
    window.attachEvent('onload', eg2Load);
}
function eg2Load(event) {
       swapInput("eg2");
}
</script>
<div style="display:none;" id="eg2short">
<pre style="width: 97%;" class="fragment">
<b name="eg2shortd1" onclick='showPath("eg2","eg2shortd1")'>d1: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=1,2 <div class="tooltip">COMPONENTS<div class="right">( default=off ) calculate the x, y and z components of the distance separately and
store them as label.x, <i></i></div></div> <span style="display:none;" id="eg2shortd1">The DISTANCE action with label <b>d1</b> calculates the following quantities:
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr><td width="5%%"><b> Quantity </b>  </td><td><b> Description </b> </td></tr>
<tr><td width="5%%">d1.x</td><td>the x-component of the vector connecting the two atoms</td></tr>
<tr><td width="5%%">d1.y</td><td>the y-component of the vector connecting the two atoms</td></tr>
<tr><td width="5%%">d1.z</td><td>the z-component of the vector connecting the two atoms</td></tr>
</table>
</span>
<b name="eg2shortd2" onclick='showPath("eg2","eg2shortd2")'>d2: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=2,3 <div class="tooltip">COMPONENTS<div class="right">( default=off ) calculate the x, y and z components of the distance separately and
store them as label.x, <i></i></div></div> <span style="display:none;" id="eg2shortd2">The DISTANCE action with label <b>d2</b> calculates the following quantities:
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr><td width="5%%"><b> Quantity </b>  </td><td><b> Description </b> </td></tr>
<tr><td width="5%%">d2.x</td><td>the x-component of the vector connecting the two atoms</td></tr>
<tr><td width="5%%">d2.y</td><td>the y-component of the vector connecting the two atoms</td></tr>
<tr><td width="5%%">d2.z</td><td>the z-component of the vector connecting the two atoms</td></tr>
</table>
</span>
<b name="eg2shorttheta" onclick='showPath("eg2","eg2shorttheta")'>theta: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_c_u_s_t_o_m.html" style="color:green">CUSTOM</a> ...
   
   <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the values input to this function <i></i></div></div>=<b name="eg2shortd1">d1.x</b>,<b name="eg2shortd1">d1.y</b>,<b name="eg2shortd1">d1.z</b>,<b name="eg2shortd2">d2.x</b>,<b name="eg2shortd2">d2.y</b>,<b name="eg2shortd2">d2.z</b> 
   <div class="tooltip">VAR<div class="right">the names to give each of the arguments in the function. <i></i></div></div>=ax,ay,az,bx,by,bz 
   <div class="tooltip">FUNC<div class="right"><b>compulsory keyword </b>
the function you wish to evaluate <i></i></div></div>=acos((ax*bx+ay*by+az*bz)/sqrt((ax*ax+ay*ay+az*az)*(bx*bx+by*by+bz*bz))) 
   <div class="tooltip">PERIODIC<div class="right"><b>compulsory keyword </b>
if the output of your function is periodic then you should specify the periodicity
of the function. <i></i></div></div>=NO 
...<span style="display:none;" id="eg2shorttheta">The CUSTOM action with label <b>theta</b> calculates a single scalar value</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_p_r_i_n_t.html" style="color:green">PRINT</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the labels of the values that you would like to print to the file <i></i></div></div>=<b name="eg2shorttheta">theta</b> <span style="display:none;" id="eg2short">The PRINT action with label <b></b></span>
</pre>
</div>
<div style="display:none;" id="eg2long"><pre style="width: 97%;" class="fragment">
<b name="eg2longd1" onclick='showPath("eg2","eg2longd1")'>d1: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=1,2 <div class="tooltip">COMPONENTS<div class="right">( default=off ) calculate the x, y and z components of the distance separately and
store them as label.x, <i></i></div></div> <span style="display:none;" id="eg2longd1">The DISTANCE action with label <b>d1</b> calculates the following quantities:
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr><td width="5%%"><b> Quantity </b>  </td><td><b> Description </b> </td></tr>
<tr><td width="5%%">d1.x</td><td>the x-component of the vector connecting the two atoms</td></tr>
<tr><td width="5%%">d1.y</td><td>the y-component of the vector connecting the two atoms</td></tr>
<tr><td width="5%%">d1.z</td><td>the z-component of the vector connecting the two atoms</td></tr>
</table>
</span>
<b name="eg2longd2" onclick='showPath("eg2","eg2longd2")'>d2: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=2,3 <div class="tooltip">COMPONENTS<div class="right">( default=off ) calculate the x, y and z components of the distance separately and
store them as label.x, <i></i></div></div> <span style="display:none;" id="eg2longd2">The DISTANCE action with label <b>d2</b> calculates the following quantities:
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr><td width="5%%"><b> Quantity </b>  </td><td><b> Description </b> </td></tr>
<tr><td width="5%%">d2.x</td><td>the x-component of the vector connecting the two atoms</td></tr>
<tr><td width="5%%">d2.y</td><td>the y-component of the vector connecting the two atoms</td></tr>
<tr><td width="5%%">d2.z</td><td>the z-component of the vector connecting the two atoms</td></tr>
</table>
</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_p_r_i_n_t.html" style="color:green">PRINT</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the labels of the values that you would like to print to the file <i></i></div></div>=theta <span style="display:none;" id="eg2long">The PRINT action with label <b></b><p> (See also <a class="el" href="_p_r_i_n_t.html">PRINT</a> and <a class="el" href="_d_i_s_t_a_n_c_e.html">DISTANCE</a>).</p>
<p>Notice that this action implements a large number of functions (trigonometric, exp, log, etc). Among the useful functions, have a look at the step function (that is the Heaviside function). <code>step(x)</code> is defined as 1 when <code>x</code> is positive and <code>0</code> when x is negative. This allows for a straightforward implementation of if clauses.</p>
<p>For example, imagine that you want to implement a restraint that only acts when a distance is larger than 0.5. You can do it with </p>
<div style="width: 80%; float:left" id="value_details_eg3"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><button type="button" id="eg3_button" onclick='swapInput("eg3")'>contract shortcuts</button></div><div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested on master" /></div><div style="width: 100%; float:left" id="input_eg3"></div>
<pre style="width: 97%;" class="fragment"></pre>
<script type="text/javascript">
if (window.addEventListener) { // Mozilla, Netscape, Firefox
    window.addEventListener('load', eg3Load, false);
} else if (window.attachEvent) { // IE
    window.attachEvent('onload', eg3Load);
}
function eg3Load(event) {
       swapInput("eg3");
}
</script>
<div style="display:none;" id="eg3short">
<pre style="width: 97%;" class="fragment">
<b name="eg3shortd" onclick='showPath("eg3","eg3shortd")'>d: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=10,15 <span style="display:none;" id="eg3shortd">The DISTANCE action with label <b>d</b> calculates a single scalar value</span>
<b name="eg3shortm" onclick='showPath("eg3","eg3shortm")'>m: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_c_u_s_t_o_m.html" style="color:green">CUSTOM</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the values input to this function <i></i></div></div>=<b name="eg3shortd">d</b> <div class="tooltip">FUNC<div class="right"><b>compulsory keyword </b>
the function you wish to evaluate <i></i></div></div>=0.5*step(0.5-x)+x*step(x-0.5) <div class="tooltip">PERIODIC<div class="right"><b>compulsory keyword </b>
if the output of your function is periodic then you should specify the periodicity
of the function. <i></i></div></div>=NO <span style="display:none;" id="eg3shortm">The CUSTOM action with label <b>m</b> calculates a single scalar value</span>
<span style="color:blue"># check the function you are applying:</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_p_r_i_n_t.html" style="color:green">PRINT</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the labels of the values that you would like to print to the file <i></i></div></div>=<b name="eg3shortd">d</b>,<b name="eg3shortm">m</b> <div class="tooltip">FILE<div class="right">the name of the file on which to output these quantities <i></i></div></div>=checkme <span style="display:none;" id="eg3short">The PRINT action with label <b></b></span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_r_e_s_t_r_a_i_n_t.html" style="color:green">RESTRAINT</a> <div class="tooltip">ARG<div class="right">the values the harmonic restraint acts upon. <i></i></div></div>=<b name="eg3shortd">d</b> <div class="tooltip">AT<div class="right"><b>compulsory keyword </b>
the position of the restraint <i></i></div></div>=0.5 <div class="tooltip">KAPPA<div class="right"><b>compulsory keyword ( default=0.0 )</b>
specifies that the restraint is harmonic and what the values of the force constants
on each of the variables are <i></i></div></div>=10.0 <span style="display:none;" id="eg3short">The RESTRAINT action with label <b></b></span>
</pre>
</div>
<div style="display:none;" id="eg3long"><pre style="width: 97%;" class="fragment">
<b name="eg3longd" onclick='showPath("eg3","eg3longd")'>d: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=10,15 <span style="display:none;" id="eg3longd">The DISTANCE action with label <b>d</b> calculates a single scalar value</span>
<span style="color:blue"># check the function you are applying:</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_p_r_i_n_t.html" style="color:green">PRINT</a> <div class="tooltip">ARG<div class="right"><b>compulsory keyword </b>
the labels of the values that you would like to print to the file <i></i></div></div>=<b name="eg3longd">d</b>,m <div class="tooltip">FILE<div class="right">the name of the file on which to output these quantities <i></i></div></div>=checkme <span style="display:none;" id="eg3long">The PRINT action with label <b></b><p> (see also <a class="el" href="_d_i_s_t_a_n_c_e.html">DISTANCE</a>, <a class="el" href="_p_r_i_n_t.html">PRINT</a>, and <a class="el" href="_r_e_s_t_r_a_i_n_t.html">RESTRAINT</a>)</p>
<p>The meaning of the function <code>0.5*step(0.5-x)+x*step(x-0.5)</code> is:</p><ul>
<li>If x&lt;0.5 (step(0.5-x)!=0) use 0.5</li>
<li>If x&gt;0.5 (step(x-0.5)!=0) use x Notice that the same could have been obtained using an <a class="el" href="_u_p_p_e_r__w_a_l_l_s.html">UPPER_WALLS</a> However, with CUSTOM you can create way more complex definitions.</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>If you apply forces on the variable (as in the previous example) you should make sure that the variable is continuous! Conversely, if you are just analyzing a trajectory you can safely use discontinuous variables.</dd></dl>
<p>A possible continuity check with gnuplot is </p><pre class="fragment"># this allow to step function to be used in gnuplot:
gnuplot&gt; step(x)=0.5*(erf(x*10000000)+1)
# here you can test your function
gnuplot&gt; p 0.5*step(0.5-x)+x*step(x-0.5)
</pre><p>Also notice that you can easily make logical operations on the conditions that you create. The equivalent of the AND operator is the product: <code>step(1.0-x)*step(x-0.5)</code> is only equal to 1 when x is between 0.5 and 1.0. By combining negation and AND you can obtain an OR. That is, <code>1-step(1.0-x)*step(x-0.5)</code> is only equal to 1 when x is outside the 0.5-1.0 interval.</p>
<p>CUSTOM can be used in combination with <a class="el" href="_d_i_s_t_a_n_c_e.html">DISTANCE</a> to implement variants of the DISTANCE keyword that were present in PLUMED 1.3 and that allowed to compute the distance of a point from a line defined by two other points, or the progression along that line. </p>
<div style="width: 80%; float:left" id="value_details_eg4"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><button type="button" id="eg4_button" onclick='swapInput("eg4")'>contract shortcuts</button></div><div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested on master" /></div><div style="width: 100%; float:left" id="input_eg4"></div>
<pre style="width: 97%;" class="fragment"></pre>
<script type="text/javascript">
if (window.addEventListener) { // Mozilla, Netscape, Firefox
    window.addEventListener('load', eg4Load, false);
} else if (window.attachEvent) { // IE
    window.attachEvent('onload', eg4Load);
}
function eg4Load(event) {
       swapInput("eg4");
}
</script>
<div style="display:none;" id="eg4short">
<pre style="width: 97%;" class="fragment">
<span style="color:blue"># take center of atoms 1 to 10 as reference point 1</span>
<b name="eg4shortp1" onclick='showPath("eg4","eg4shortp1")'>p1: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_c_e_n_t_e_r.html" style="color:green">CENTER</a> <div class="tooltip">ATOMS<div class="right">the group of atoms that you are calculating the Gyration Tensor for. <i></i></div></div>=1-10 <span style="display:none;" id="eg4shortp1">The CENTER action with label <b>p1</b> calculates the following quantities:
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr><td width="5%%"><b> Quantity </b>  </td><td><b> Description </b> </td></tr>
<tr><td width="5%%">p1.x</td><td>PRINT ARG=onaxis,fromaxis<p>Notice that these equations have been used to combine <a class="el" href="_r_m_s_d.html">RMSD</a> from different snapshots of a protein so as to define progression (S) and distance (Z) variables <a class="el" href="citelist.html#CITEREF_perez2015atp">[84]</a>.</p>
<dl class="section user"><dt>Glossary of keywords and components</dt><dd></dd></dl>
<dl class="section user"><dt>Description of components</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><b> Quantity </b>  </td><td><b> Description </b>   </td></tr>
<tr>
<td width="15%"><b> .#!value </b> </td><td>an arbitrary function   </td></tr>
</table>
<dl class="section user"><dt>Compulsory keywords</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> PERIODIC </b> </td><td>if the output of your function is periodic then you should specify the periodicity of the function. If the output is not periodic you must state this using PERIODIC=NO   </td></tr>
<tr>
<td width="15%"><b> FUNC </b> </td><td>the function you wish to evaluate   </td></tr>
<tr>
<td width="15%"><b> ARG </b> </td><td>the values input to this function   </td></tr>
</table>
<dl class="section user"><dt>Options</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> VAR </b> </td><td>the names to give each of the arguments in the function. If you have up to three arguments in your function you can use x, y and z to refer to them. Otherwise you must use this flag to give your variables names.   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="colvarintro.html">Collective Variables</a></li><li class="navelem"><a class="el" href="_function.html">Functions</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
