<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>PLUMED: Version 2.2</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script>
   var redpath = "";
   
   function showPath(eg,name) {
     var i; var y = document.getElementsByName(redpath);
     for (i=0; i < y.length; i++ ) { y[i].style.color="black"; }
     var x = document.getElementsByName(name); redpath=name;
     for (i = 0; i < x.length; i++) { x[i].style.color="red"; }
     var valid="value_details_".concat(eg);
     var valueField = document.getElementById(valid);
     var dataField = document.getElementById(name);
     valueField.innerHTML = dataField.innerHTML;
   }
   function swapInput(name) {
     var btn = document.getElementById(name + "_button");
     var mydiv = document.getElementById("input_" + name);
     if( btn.textContent=="expand shortcuts" ) {
         btn.textContent = "contract shortcuts";
         var dataField = document.getElementById(name + "long");
         mydiv.innerHTML = dataField.innerHTML;
     } else if( btn.textContent=="contract shortcuts" ) {
         btn.textContent = "expand shortcuts";
         var dataField = document.getElementById(name + "short");
         mydiv.innerHTML = dataField.innerHTML;
     }
   }
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.11.0-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_c_h_a_n_g_e_s-2-2.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Version 2.2 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md13"></a>
Version 2.2 (Oct 13, 2015)</h2>
<p>Version 2.2 contains several improvements with respect to 2.1. Users currently working with 2.1 should have a look at the section "Changes leading to incompatible behavior" below and might need tiny adjustments in their input files. In 2.2 we restored more features of 1.3 that were missing in 2.1, so users still working with 1.3 could opt for an upgrade. A tutorial explaining how to move from PLUMED 1 to PLUMED 2 is available (see moving).</p>
<p>Below you find a list of all the changes with respect to version 2.1. Notice that version 2.2 includes already all the fixes in branch 2.1 up to 2.1.4 indicated in <a class="el" href="_c_h_a_n_g_e_s-2-1.html">Version 2.1</a> .</p>
<p>Changes from version 2.1 which are relevant for users:</p><ul>
<li>Changes leading to incompatible behavior:<ul>
<li>Labels of quantities calculates by <a class="el" href="_s_p_r_i_n_t.html">SPRINT</a> have changed from <em>label</em>.coord_<em>num</em> to <em>label</em>.coord-<em>num</em></li>
<li><a class="el" href="_m_e_t_a_d.html">METAD</a> with WALKERS_MPI now writes a single hills file, without suffixes</li>
<li>removed the ./configure.sh script of v2.0.x, now plumed can only be configured using autotools (./configure)</li>
<li><a class="el" href="_c_o_m.html">COM</a>, <a class="el" href="_c_e_n_t_e_r.html">CENTER</a>, and <a class="el" href="_g_y_r_a_t_i_o_n.html">GYRATION</a> now automatically make molecules whole. In case you do not want them to do it, use NOPBC flag, which recovers plumed 2.1 behavior</li>
<li>Some MD code could now automatically trigger restart (e.g. gromacs when starting from cpt files). This can be overwritten using <a class="el" href="_r_e_s_t_a_r_t.html">RESTART</a> NO.</li>
<li>Replica suffixes are now added by PLUMED <em>before</em> extension (e.g. use plumed.0.dat instead of plumed.dat.0)</li>
<li>When using <a class="el" href="switchingfunction.html">switchingfunction</a> the STRETCH keyword is now implicit. NOSTRETCH is available to enforce the old behavior.</li>
</ul>
</li>
<li>Module activation can now be controlled during configure with <code>--enable-modules</code> option.</li>
<li>Almost complete refactoring of installation procedure. Now DESTDIR and other standard autoconf directories (e.g. bindir) are completely supported. Additionally, everything should work properly also when directory names include spaces (<a href="http://github.com/plumed/plumed2/issues/157">#157</a>). Finally, compiler is not invoked on install unless path are explicitly changed (<a href="http://github.com/plumed/plumed2/issues/107">#107</a>).</li>
<li>Related to installation refactoring, upon install a previously installed PLUMED is not removed. This is to avoid data loss if prefix variable is not properly set</li>
<li>Several changes have been made in the Makefile.conf that makes it not compatible with those packaged with plumed 2.0/2.1. Please use ./configure to generate a new configuration file.</li>
<li>Added partial OpenMP parallelization, see <a class="el" href="_openmp.html">OpenMP</a></li>
<li>Added multiple time step integration for bias potentials, see <a class="el" href="_m_t_s.html">Multiple time stepping</a></li>
<li>Link cells are now used in all multicolvars that involve <a class="el" href="switchingfunction.html">switchingfunction</a>. The link cell cutoff is set equal to 2.* \(d_{\textrm{max}}\). Where \(d_{\textrm{max}}\) is the (user-specified) point at which the switching function goes to zero. Users should always set this parameter when using a switching function in order to achieve optimal performance.</li>
<li>DHENERGY option is no longer possible within <a class="el" href="_d_i_s_t_a_n_c_e_s.html">DISTANCES</a>. You can still calculate the DHENERGY colvar by using <a class="el" href="_d_h_e_n_e_r_g_y.html">DHENERGY</a></li>
<li>Reweighting in the manner described in <a class="el" href="citelist.html#CITEREF_Tiwary_jp504920s">[104]</a> is now possible using a combination of the <a class="el" href="_m_e_t_a_d.html">METAD</a> and <a class="el" href="_h_i_s_t_o_g_r_a_m.html">HISTOGRAM</a> actions. The relevant keywords in <a class="el" href="_m_e_t_a_d.html">METAD</a> are REWEIGHTING_NGRID and REWEIGHTING_NHILLS. The \(c(t)\) and the appropriate weight to apply to the configurations are given by the values labeled rct and rbias.</li>
<li>News in configure and install:<ul>
<li>./configure now allows external BLAS to be used with internal LAPACK. This is done automatically if only BLAS are available, and can be enforced with &ndash;disable-external-lapack.</li>
<li>./configure supports &ndash;program-prefix, &ndash;program-suffix, and &ndash;program-transform-name.</li>
<li>make install supports DESTDIR and prefix.</li>
<li>Environment variables PLUMED_LIBSUFFIX and PLUMED_PREFIX are deprecated and will be removed in a later version.</li>
</ul>
</li>
<li>New actions<ul>
<li><a class="el" href="_d_u_m_p_m_a_s_s_c_h_a_r_g_e.html">DUMPMASSCHARGE</a> to dump a file with mass and charges during MD.</li>
<li><a class="el" href="_e_f_f_e_c_t_i_v_e__e_n_e_r_g_y__d_r_i_f_t.html">EFFECTIVE_ENERGY_DRIFT</a> to check that plumed forces are not screwing the MD integrator.</li>
<li><a class="el" href="_e_x_t_e_n_d_e_d__l_a_g_r_a_n_g_i_a_n.html">EXTENDED_LAGRANGIAN</a> : in combination with <a class="el" href="_m_e_t_a_d.html">METAD</a> it implements metadynamics with Extended Lagrangian; standalone it implements TAMD/dAFED.</li>
<li><a class="el" href="_d_f_s_c_l_u_s_t_e_r_i_n_g.html">DFSCLUSTERING</a> calculate the size of clusters</li>
<li><a class="el" href="_d_u_m_p_m_u_l_t_i_c_o_l_v_a_r.html">DUMPMULTICOLVAR</a> print out a multicolvar</li>
<li><a class="el" href="_m_f_i_l_t_e_r__l_e_s_s.html">MFILTER_LESS</a> filter multicolvar by the value of the colvar</li>
<li><a class="el" href="_m_f_i_l_t_e_r__m_o_r_e.html">MFILTER_MORE</a></li>
<li>MFILTER_BETWEEN</li>
<li><a class="el" href="_p_c_a_r_m_s_d.html">PCARMSD</a> PCA collective variables using OPTIMAL rmsd measure</li>
<li><a class="el" href="_p_c_a_v_a_r_s.html">PCAVARS</a> PCA collective variables using any one of the measures in reference</li>
<li><a class="el" href="_g_r_a_d_i_e_n_t.html">GRADIENT</a> can be used to calculate the gradient of a quantity. Used to drive nucleation</li>
<li><a class="el" href="_c_a_v_i_t_y.html">CAVITY</a></li>
<li><a class="el" href="_p_u_c_k_e_r_i_n_g.html">PUCKERING</a> implemented for 5-membered rings (thanks to Alejandro Gil-Ley).</li>
<li><a class="el" href="_w_r_a_p_a_r_o_u_n_d.html">WRAPAROUND</a> to fix periodic boundary conditions.</li>
</ul>
</li>
<li>New features for existing actions:<ul>
<li>Keywords UPDATE_FROM and UPDATE_UNTIL to limit update step in a defined time window, available only for actions where it would be useful.</li>
<li>Keyword UNNORMALIZED for <a class="el" href="_h_i_s_t_o_g_r_a_m.html">HISTOGRAM</a>.</li>
<li>Possibility to use Tiwary-Parrinello reweighting for <a class="el" href="_m_e_t_a_d.html">METAD</a></li>
<li>Keywords for <a class="el" href="_g_r_o_u_p.html">GROUP</a> (REMOVE, SORT, UNIQUE) to allow more flexible editing of groups.</li>
<li><a class="el" href="_d_u_m_p_a_t_o_m_s.html">DUMPATOMS</a> now supports dumping xtc and trr files (requires xdrfile library).</li>
<li><a class="el" href="driver.html">driver</a> can now read xtc and trr files also with xdrfile library.</li>
<li><a class="el" href="driver.html">driver</a> accepts a &ndash;mc flag to read charges and masses from a file produced during molecular dynamics with <a class="el" href="_d_u_m_p_m_a_s_s_c_h_a_r_g_e.html">DUMPMASSCHARGE</a></li>
<li>Possibility to enable or disable <a class="el" href="_r_e_s_t_a_r_t.html">RESTART</a> on a per action basis, available only for actions where it would be useful.</li>
<li><a class="el" href="_m_o_l_i_n_f_o.html">MOLINFO</a> now supports many more special names for rna and dna (thanks to Alejandro Gil-Ley).</li>
<li>VMEAN and VSUM allow one to calculate the sum of a set of vectors calculated by VectorMultiColvar. Note these can also be used in tandem with <a class="el" href="_a_r_o_u_n_d.html">AROUND</a> or <a class="el" href="_m_f_i_l_t_e_r__m_o_r_e.html">MFILTER_MORE</a> to calculate the average vector within a particular part of the cell or the average vector among those that have a magnitude greater than some tolerance</li>
<li>New way of calculating the minimum value in multicolvars (ALT_MIN). This is less susceptible to overflow for certain values of \(\beta\). <br  />
</li>
<li>New keywords for calculating the LOWEST and HIGHEST colvar calculated by a multicolvar</li>
<li>Added components to <a class="el" href="_d_i_p_o_l_e.html">DIPOLE</a> (<a href="http://github.com/plumed/plumed2/issues/160">#160</a>).</li>
</ul>
</li>
<li>Other changes:<ul>
<li>File reader now supports dos newlines as well as files with no endline at the end.</li>
</ul>
</li>
</ul>
<p>For developers:</p>
<ul>
<li>In order to be able to use openMP parallelism within multicolvar, secondarystructure, manyrestraints and crystallisation we had to make some substantial changes to the code that underlies these routines that is contained within vesselbase. In particular we needed to get rid of the derivatives and buffer private variables in the class ActionWithVessel. As a consequence the derivatives calculated in the various performTask methods are stored in an object of type MultiValue. Within multicolvar this is contained within an object of type AtomValuePack, which stores information on the atom indices. If you have implemented a new multicolvar it should be relatively straightforward to translate them so they can exploit this new version of the code. Look at what has been done to the other multicolvars in there for guidance. Sorry for any inconvenience caused.</li>
<li>Changed the logic of several PLUMED ifdef macros so as to make them consistent. Now every feature based on external libraries is identified by a __PLUMED_HAS_* macro.</li>
</ul>
<h2><a class="anchor" id="autotoc_md14"></a>
Version 2.2.1 (Jan 18, 2016)</h2>
<p>For users:</p><ul>
<li><a class="el" href="_p_b_m_e_t_a_d.html">PBMETAD</a> implement the new Parallel Bias Metadynamics flavor of the Metadynamics sampling method.</li>
<li>PLUMED now reports an error when using <a class="el" href="_h_i_s_t_o_g_r_a_m.html">HISTOGRAM</a> with UNNORMALIZED without USE_ALL_DATA. See <a href="http://github.com/plumed/plumed2/issues/175">#175</a></li>
<li>Fixed a bug in configure together with &ndash;enable-almost. The check for lbz2 library was not working properly.</li>
<li>Fixed a bug in install procedure that was introducing an error in linking with CP2K.</li>
<li>Fixed a bug that sometimes was preventing the printing of a useful error message.</li>
</ul>
<p>For developers:</p><ul>
<li>Vector and Tensor now support direct output with <code>&lt;&lt;</code>.</li>
<li>Added some missing matmul operation Vector and Tensor.</li>
<li>./configure is automatically relaunched when changing ./configure or Makefile.conf. This makes it more robust to switch between branches.</li>
</ul>
<h2><a class="anchor" id="autotoc_md15"></a>
Version 2.2.2 (Apr 13, 2016)</h2>
<p>For users:</p><ul>
<li><a class="el" href="_m_o_l_i_n_f_o.html">MOLINFO</a> for RNA accepts more residue names, see <a href="http://github.com/plumed/plumed2/issues/180">#180</a>.</li>
<li>added two mpi barries (one was missing in PBMetaD for multiple walkers) to help synchronized initialisation</li>
<li>Fixed a bug in internal stopwatches that was making <a class="el" href="_d_e_b_u_g.html">DEBUG</a> logRequestedAtoms not working</li>
<li>Some multicolvars (including <a class="el" href="_b_r_i_d_g_e.html">BRIDGE</a>, <a class="el" href="_a_n_g_l_e_s.html">ANGLES</a>, and <a class="el" href="_i_n_p_l_a_n_e_d_i_s_t_a_n_c_e_s.html">INPLANEDISTANCES</a>) now crashes if one asks for too many atoms, see <a href="http://github.com/plumed/plumed2/issues/185">#185</a>.</li>
<li>Optimisations (activation of the dependencies, secondary structures, DRMSD)</li>
<li>Fixed a performance regression with RMSD=OPTIMAL-FAST</li>
<li>Fixed a bug in the normalization of kernel functions (relevant for <a class="el" href="_h_i_s_t_o_g_r_a_m.html">HISTOGRAM</a>).</li>
<li>Fixed a regression introduced in v2.2 that was making <a class="el" href="_m_e_t_a_d.html">METAD</a> with non-MPI multiple walkers crash if reading frequently. See <a href="http://github.com/plumed/plumed2/issues/190">#190</a></li>
<li>Updated patch for gromacs 5.x. Patches for gromacs 5.0 and 5.1 have been fixed so as to allow patching in runtime mode.</li>
<li>Possibility to control manual generation (including pdf) from ./configure. Pdf manual is now off by default. Notice that on travis CI it is still generated.</li>
</ul>
<p>For developers:</p><ul>
<li>Fixed a bug in the interpretation of cmd strings. Namely, an erroneous string was not triggering an error. This is harmless for MD codes properly patched, but could have introduced problems in MD codes with typoes in cmd strings.</li>
<li>./configure is not automatically relaunched anymore when doing <code>make clean</code>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md16"></a>
Version 2.2.3 (Jun 30, 2016)</h2>
<p>For users:</p><ul>
<li>Updated patches for gromacs 5.1.x and 5.0.x to fix a problem when plumed was trying to write to an already closed gromacs log file.</li>
<li>When looking for a value outside the GRID now the error include the name of the responsible collective variable</li>
<li>Numerical check in LatticeReduction made less picky. This should solve some of the internal errors reported by <code>LatticeReduction.cpp</code> when using aggressive compilers.</li>
<li>Files are now flushed at the correct step. Before this fix, they were flushed at the step before the requested one (e.g. with <a class="el" href="_f_l_u_s_h.html">FLUSH</a> STRIDE=100 at step 99, 199, etc).</li>
<li>In <a class="el" href="_m_e_t_a_d.html">METAD</a>, INTERVAL with periodic variables now report an error.</li>
<li><a class="el" href="_l_o_a_d.html">LOAD</a> now works also when plumed is installed with a suffix.</li>
<li>Added <code>--md-root</code> option to <code>plumed patch</code> which allows it to be run from a directory different from the one where the md code is located.</li>
<li>Wham script in munster tutorial now writes weights in scientific notation.</li>
</ul>
<p>For developers:</p><ul>
<li><code>./configure</code> checks if dependencies can be generated. If not, they are disabled.</li>
<li>Added &ndash;disable-dependency-tracking to ./configure</li>
<li>Added a make target <code>all_plus_doc</code> that builds both code and docs.</li>
<li>Added possibility to set a default location for plumed library in runtime binding. If the plumed wrapped is compiled with <code>-D__PLUMED_DEFAULT_KERNEL=/path/libplumedKernel.so</code>, then if the env var PLUMED_KERNEL is undefined or empty PLUMED will look in the path at compile time.</li>
<li>Tentative port files are now available at <a href="http://github.com/plumed/ports">this link</a>. They can be used to install PLUMED using MacPorts.</li>
</ul>
<h2><a class="anchor" id="autotoc_md17"></a>
Version 2.2.4 (Dec 12, 2016)</h2>
<p>For users:</p><ul>
<li>Fix a bug in <a class="el" href="_p_b_m_e_t_a_d.html">PBMETAD</a> when biasing periodic and not periodic collective variables at the same time</li>
<li>GSL library is now treated by <code>./configure</code> in the same way as other libraries, that is <code>-lgsl -lgslcblas</code> are only added if necessary.</li>
<li>Fix a bug in <a class="el" href="_m_e_t_a_d.html">METAD</a> when using INTERVAL and ADAPTIVE gaussians at the same time</li>
<li>Updated gromacs patch for 5.1.x to 5.1.4</li>
<li>Fix a performance regression in the calculate loop where derivatives and forces were set to zero even if an action was not active, this is relevant for postprocessing and for the on-the-fly analysis</li>
<li>Torsion calculation has been made slightly faster and improved so as to provide correct derivatives even for special angles (e.g. +pi/2 and -pi/2).</li>
</ul>
<p>For developers:</p><ul>
<li>Macports portile is now tested on travis at every plumed push.</li>
</ul>
<h2><a class="anchor" id="autotoc_md18"></a>
Version 2.2.5 (Mar 31, 2017)</h2>
<dl class="section warning"><dt>Warning</dt><dd>This branch is not maintained. Users are invited to upgrade to a newer version</dd></dl>
<p>For users:</p><ul>
<li>Fixed a problem with large step numbers in driver (see <a href="http://github.com/plumed/plumed2/issues/209">#209</a>).</li>
<li>Fixed a problem leading to crashes when using switching functions without cutoff with some compiler (see <a href="http://github.com/plumed/plumed2/issues/210">#210</a>).</li>
<li>Fixed a bug when using <a class="el" href="_f_i_t__t_o__t_e_m_p_l_a_t_e.html">FIT_TO_TEMPLATE</a> and domain decomposition (see <a href="http://github.com/plumed/plumed2/issues/214">#214</a>).</li>
<li>Added an automatic flush of HILLS files when using <a class="el" href="_m_e_t_a_d.html">METAD</a> with file-based multiple walkers.</li>
<li>Root dir is logged to allow easier debugging of problems. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="_change_log.html">Change Log</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
