<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>PLUMED: FIND_CONTOUR_SURFACE</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script>
   var redpath = "";
   
   function showPath(eg,name) {
     var i; var y = document.getElementsByName(redpath);
     for (i=0; i < y.length; i++ ) { y[i].style.color="black"; }
     var x = document.getElementsByName(name); redpath=name;
     for (i = 0; i < x.length; i++) { x[i].style.color="red"; }
     var valid="value_details_".concat(eg);
     var valueField = document.getElementById(valid);
     var dataField = document.getElementById(name);
     valueField.innerHTML = dataField.innerHTML;
   }
   function swapInput(name) {
     var btn = document.getElementById(name + "_button");
     var mydiv = document.getElementById("input_" + name);
     if( btn.textContent=="expand shortcuts" ) {
         btn.textContent = "contract shortcuts";
         var dataField = document.getElementById(name + "long");
         mydiv.innerHTML = dataField.innerHTML;
     } else if( btn.textContent=="contract shortcuts" ) {
         btn.textContent = "expand shortcuts";
         var dataField = document.getElementById(name + "short");
         mydiv.innerHTML = dataField.innerHTML;
     }
   }
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.11.0-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_f_i_n_d__c_o_n_t_o_u_r__s_u_r_f_a_c_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">FIND_CONTOUR_SURFACE </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table align="center" frame="void" width="95%%" celpadding="5%%">
<tr>
<td width="60%%"></td><td><b> This is part of the contour <a class="el" href="mymodules.html">module </a></b>   </td></tr>
<tr>
<td width="60%%"></td><td><b> It is only available if you configure PLUMED with ./configure &ndash;enable-modules=contour . Furthermore, this feature is still being developed so take care when using it and report any problems on the mailing list.</b>   </td></tr>
</table>
<p>Find an isocontour by searching along either the x, y or z direction.</p>
<p>As discussed in the part of the manual on <a class="el" href="_analysis.html">Analysis</a> PLUMED contains a number of tools that allow you to calculate a function on a grid. The function on this grid might be a <a class="el" href="_h_i_s_t_o_g_r_a_m.html">HISTOGRAM</a> as a function of a few collective variables or it might be a phase field that has been calculated using <a class="el" href="_m_u_l_t_i_c_o_l_v_a_r_d_e_n_s.html">MULTICOLVARDENS</a>. If this function has one or two input arguments it is relatively straightforward to plot the function. If by contrast the data has a three dimensions it can be difficult to visualize.</p>
<p>This action provides one tool for visualizing these functions. It can be used to search for a set of points on a contour where the function takes a particular value. In other words, for the function \(f(x,y,z)\) this action would find a set of points \(\{x_c,y_c,z_c\}\) that have:</p>
<p class="formulaDsp">
\[ f(x_c,y_c,z_c) - c = 0 \]
</p>
<p>where \(c\) is some constant value that is specified by the user. The points on this contour are find by searching along lines that run parallel to the \(x\), \(y\) or \(z\) axis of the simulation cell. The result is, therefore, a two dimensional function evaluated on a grid that gives us the height of the interface as a function of two coordinates.</p>
<p>It is important to note that this action can only be used to detect contours in three dimensional functions. In addition, this action will fail to find the full set of contour points if the contour does not have the same topology as an infinite plane. If you are uncertain that the isocontours in your function have the appropriate topology you should use <a class="el" href="_f_i_n_d__c_o_n_t_o_u_r.html">FIND_CONTOUR</a> in place of <a class="el" href="_f_i_n_d__c_o_n_t_o_u_r__s_u_r_f_a_c_e.html">FIND_CONTOUR_SURFACE</a>.</p>
<dl class="section user"><dt>Examples</dt><dd></dd></dl>
<p>The input shown below was used to analyze the results from a simulation of an interface between solid and molten Lennard Jones. The interface between the solid and the liquid was set up in the plane perpendicular to the \(z\) direction of the simulation cell. The input below calculates something akin to a Willard-Chandler dividing surface <a class="el" href="citelist.html#CITEREF_wcsurface">[116]</a> between the solid phase and the liquid phase. There are two of these interfaces within the simulation box because of the periodic boundary conditions but we were able to determine that one of these two surfaces lies in a particular part of the simulation box. The input below detects the height profile of one of these two interfaces. It does so by computing a phase field average of the <a class="el" href="_f_c_c_u_b_i_c.html">FCCUBIC</a> symmetry function using the <a class="el" href="_m_u_l_t_i_c_o_l_v_a_r_d_e_n_s.html">MULTICOLVARDENS</a> action. Notice that we use the fact that we know roughly where the interface is when specifying how this phase field is to be calculated and specify the region over the \(z\)-axis in which we are going to search for the phase field in the line defining the <a class="el" href="_m_u_l_t_i_c_o_l_v_a_r_d_e_n_s.html">MULTICOLVARDENS</a>. Once we have calculated the phase field we search for contour points on the lines that run parallel to the \(z\)-direction of the cell box using the FIND_CONTOUR_SURFACE command. The final result is a \(14 \times 14\) grid of values for the height of the interface as a function of the \((x,y)\) position. This grid is then output to a file called contour2.dat.</p>
<p>Notice that the commands below calculate the instantaneous position of the surface separating the solid and liquid and that as such the accumulated average is cleared on every step.</p>

<div style="width: 90%; float:left" id="value_details_eg1"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-failed-red.svg" alt="tested on master" /></div><pre style="width: 97%;" class="fragment">
<a href="https://www.plumed.org/doc-master/user-doc/html/_u_n_i_t_s.html" style="color:green">UNITS</a> <div class="tooltip">NATURAL<div class="right">( default=off ) use natural units <i></i></div></div> <span style="display:none;" id="eg1"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg1fcc" onclick='showPath("eg1","eg1fcc")'>fcc: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_f_c_c_u_b_i_c.html" style="color:green">FCCUBIC</a> ...
   <div class="tooltip">SPECIES<div class="right">this keyword is used for colvars such as coordination number. <i></i></div></div>=1-96000 <div class="tooltip">SWITCH<div class="right">the switching function that it used in the construction of the contact matrix <i></i></div></div>={CUBIC D_0=1.2 D_MAX=1.5}  
   <div class="tooltip">ALPHA<div class="right"><b>compulsory keyword ( default=3.0 )</b>
The alpha parameter of the angular function that is used for FCCUBIC <i></i></div></div>=27 <div class="tooltip">PHI<div class="right"><b>compulsory keyword ( default=0.0 )</b>
The Euler rotational angle phi <i></i></div></div>=0.0 <div class="tooltip">THETA<div class="right"><b>compulsory keyword ( default=0.0 )</b>
The Euler rotational angle theta <i></i></div></div>=-1.5708 <div class="tooltip">PSI<div class="right"><b>compulsory keyword ( default=0.0 )</b>
The Euler rotational angle psi <i></i></div></div>=-2.35619 
...<span style="display:none;" id="eg1fcc"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg1dens2" onclick='showPath("eg1","eg1dens2")'>dens2: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_m_u_l_t_i_c_o_l_v_a_r_d_e_n_s.html" style="color:green">MULTICOLVARDENS</a> <div class="tooltip">DATA<div class="right">the multicolvar which you would like to calculate the density profile for <i></i></div></div>=<b name="eg1fcc">fcc</b> <div class="tooltip">ORIGIN<div class="right"><b>compulsory keyword </b>
we will use the position of this atom as the origin <i></i></div></div>=1 <div class="tooltip">DIR<div class="right"><b>compulsory keyword </b>
the direction in which to calculate the density profile <i></i></div></div>=xyz <div class="tooltip">NBINS<div class="right">the number of bins to use in each direction (alternative to GRID_NBIN) <i></i></div></div>=14,14,50 <div class="tooltip">ZREDUCED<div class="right"><b> could not find this keyword </b><i></i></div></div> <div class="tooltip">ZLOWER<div class="right"><b> could not find this keyword </b><i></i></div></div>=6.0 <div class="tooltip">ZUPPER<div class="right"><b> could not find this keyword </b><i></i></div></div>=11.0 <div class="tooltip">BANDWIDTH<div class="right">the bandwidths for kernel density esimtation <i></i></div></div>=1.0,1.0,1.0 <div class="tooltip">CLEAR<div class="right"><b>compulsory keyword ( default=0 )</b>
the frequency with which to clear the density <i></i></div></div>=1 <span style="display:none;" id="eg1dens2"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<b name="eg1ss2" onclick='showPath("eg1","eg1ss2")'>ss2: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_f_i_n_d__c_o_n_t_o_u_r__s_u_r_f_a_c_e.html" style="color:green">FIND_CONTOUR_SURFACE</a> <div class="tooltip">GRID<div class="right"><b> could not find this keyword </b><i></i></div></div>=<b name="eg1dens2">dens2</b> <div class="tooltip">CONTOUR<div class="right"><b>compulsory keyword </b>
the value we would like to draw the contour at in the space <i></i></div></div>=0.42 <div class="tooltip">SEARCHDIR<div class="right"><b>compulsory keyword </b>
In which directions do you wish to search for the contour. <i></i></div></div>=z <div class="tooltip">STRIDE<div class="right"><b> could not find this keyword </b><i></i></div></div>=1 <div class="tooltip">CLEAR<div class="right"><b> could not find this keyword </b><i></i></div></div>=1 <span style="display:none;" id="eg1ss2"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_d_u_m_p_g_r_i_d.html" style="color:green">DUMPGRID</a> <div class="tooltip">GRID<div class="right">the grid you would like to print (can also use ARG for specifying what is being printed)
<i></i></div></div>=<b name="eg1ss2">ss2</b> <div class="tooltip">FILE<div class="right"><b>compulsory keyword ( default=density )</b>
the file on which to write the grid. <i></i></div></div>=contour2.dat <div class="tooltip">FMT<div class="right">the format that should be used to output real numbers <i></i></div></div>=%8.4f <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=0 )</b>
the frequency with which the grid should be output to the file. <i></i></div></div>=1 <span style="display:none;" id="eg1"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
</pre>
<dl class="section user"><dt>Glossary of keywords and components</dt><dd></dd></dl>
<dl class="section user"><dt>Description of components</dt><dd></dd></dl>
<p>By default the value of the calculated quantity can be referenced elsewhere in the input file by using the label of the action. Alternatively this Action can be used to calculate the following quantities by employing the keywords listed below. These quantities can be referenced elsewhere in the input by using this Action's label followed by a dot and the name of the quantity required from the list below.</p>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="5%"><b> Quantity </b>  </td><td><b> Description </b>   </td></tr>
<tr>
<td width="15%"><b> .#!value </b> </td><td>a grid containing the location of the points in the Willard-Chandler surface along the chosen direction   </td></tr>
</table>
<dl class="section user"><dt>Compulsory keywords</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> ARG </b> </td><td>the labels of the grid in which the contour will be found   </td></tr>
<tr>
<td width="15%"><b> CONTOUR </b> </td><td>the value we would like to draw the contour at in the space   </td></tr>
<tr>
<td width="15%"><b> INTERPOLATION_TYPE </b> </td><td>( default=spline ) the method to use for interpolation. Can be spline, linear, ceiling or floor.   </td></tr>
<tr>
<td width="15%"><b> SEARCHDIR </b> </td><td>In which directions do you wish to search for the contour.   </td></tr>
</table>
<dl class="section user"><dt>Options</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> SERIAL </b> </td><td>( default=off ) do the calculation in serial. Do not parallelize   </td></tr>
<tr>
<td width="15%"><b> ZERO_OUTSIDE_GRID_RANGE </b> </td><td><p class="starttd">( default=off ) if we are asked to evaluate the function for a number that is outside the range of the grid set it to zero  </p>
<p class="endtd"></p>
</td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="_analysis.html">Analysis</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
