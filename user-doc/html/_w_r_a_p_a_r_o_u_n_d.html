<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>PLUMED: WRAPAROUND</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script>
   var redpath = "";
   
   function showPath(eg,name) {
     var i; var y = document.getElementsByName(redpath);
     for (i=0; i < y.length; i++ ) { y[i].style.color="black"; }
     var x = document.getElementsByName(name); redpath=name;
     for (i = 0; i < x.length; i++) { x[i].style.color="red"; }
     var valid="value_details_".concat(eg);
     var valueField = document.getElementById(valid);
     var dataField = document.getElementById(name);
     valueField.innerHTML = dataField.innerHTML;
   }
   function swapInput(name) {
     var btn = document.getElementById(name + "_button");
     var mydiv = document.getElementById("input_" + name);
     if( btn.textContent=="expand shortcuts" ) {
         btn.textContent = "contract shortcuts";
         var dataField = document.getElementById(name + "long");
         mydiv.innerHTML = dataField.innerHTML;
     } else if( btn.textContent=="contract shortcuts" ) {
         btn.textContent = "expand shortcuts";
         var dataField = document.getElementById(name + "short");
         mydiv.innerHTML = dataField.innerHTML;
     }
   }
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.11.0-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_w_r_a_p_a_r_o_u_n_d.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">WRAPAROUND </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table align="center" frame="void" width="95%%" celpadding="5%%">
<tr>
<td width="70%%"></td><td><b> This is part of the generic <a class="el" href="mymodules.html">module </a></b>   </td></tr>
</table>
<p>Rebuild periodic boundary conditions around chosen atoms.</p>
<p>Modify position of atoms indicated by ATOMS by shifting them by lattice vectors so that they are as close as possible to the atoms indicated by AROUND. More precisely, for every atom i in the ATOMS list the following procedure is performed:</p><ul>
<li>The atom j among those in the AROUND list is searched that is closest to atom i.</li>
<li>The atom i is replaced with its periodic image that is closest to atom j.</li>
</ul>
<p>This action works similarly to <a class="el" href="_w_h_o_l_e_m_o_l_e_c_u_l_e_s.html">WHOLEMOLECULES</a> in that it replaces atoms coordinate. Notice that only atoms specified with ATOMS are replaced, and that, at variance with <a class="el" href="_w_h_o_l_e_m_o_l_e_c_u_l_e_s.html">WHOLEMOLECULES</a>, the order in which atoms are specified is irrelevant.</p>
<p>This is often convenient at a post processing stage (using the <a class="el" href="driver.html">driver</a>), but sometime it is required during the simulation if collective variables need atoms to be in a specific periodic image.</p>
<dl class="section attention"><dt>Attention</dt><dd>This directive modifies the stored position at the precise moment it is executed. This means that only collective variables which are below it in the input script will see the corrected positions. As a general rule, put it at the top of the input file. Also, unless you know exactly what you are doing, leave the default stride (1), so that this action is performed at every MD step.</dd></dl>
<p>Consider that the computational cost grows with the product of the size of the two lists (ATOMS and AROUND), so that this action can become very expensive. If you are using it to analyze a trajectory this is usually not a big problem. If you use it to analyze a simulation on the fly, e.g. with <a class="el" href="_d_u_m_p_a_t_o_m_s.html">DUMPATOMS</a> to store a properly wrapped trajectory, consider the possibility of using the STRIDE keyword here (with great care). </p><dl class="section user"><dt>Examples</dt><dd></dd></dl>
<p>This command instructs plumed to move all the ions to their periodic image that is as close as possible to the rna group.</p>

<div style="width: 90%; float:left" id="value_details_eg1"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested on master" /></div><pre style="width: 97%;" class="fragment">
<b name="eg1rna" onclick='showPath("eg1","eg1rna")'>rna: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_g_r_o_u_p.html" style="color:green">GROUP</a> <div class="tooltip">ATOMS<div class="right">the numerical indexes for the set of atoms in the group. <i></i></div></div>=1-100 <span style="display:none;" id="eg1rna">The GROUP action with label <b>rna</b> defines a group of atoms so that they can be referred to later in the input</span>
<b name="eg1ions" onclick='showPath("eg1","eg1ions")'>ions: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_g_r_o_u_p.html" style="color:green">GROUP</a> <div class="tooltip">ATOMS<div class="right">the numerical indexes for the set of atoms in the group. <i></i></div></div>=101-110 <span style="display:none;" id="eg1ions">The GROUP action with label <b>ions</b> defines a group of atoms so that they can be referred to later in the input</span>
<span style="color:blue"># first make the rna molecule whole</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_w_h_o_l_e_m_o_l_e_c_u_l_e_s.html" style="color:green">WHOLEMOLECULES</a> <div class="tooltip">ENTITY0<div class="right">the atoms that make up a molecule that you wish to align. <i></i></div></div>=<b name="eg1rna">rna</b> <span style="display:none;" id="eg1">The WHOLEMOLECULES action with label <b></b></span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_w_r_a_p_a_r_o_u_n_d.html" style="color:green">WRAPAROUND</a> <div class="tooltip">ATOMS<div class="right">wrapped atoms. <i></i></div></div>=<b name="eg1ions">ions</b> <div class="tooltip">AROUND<div class="right">reference atoms. <i></i></div></div>=<b name="eg1rna">rna</b> <span style="display:none;" id="eg1">The WRAPAROUND action with label <b></b></span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_d_u_m_p_a_t_o_m_s.html" style="color:green">DUMPATOMS</a> <div class="tooltip">FILE<div class="right"><b>compulsory keyword </b>
file on which to output coordinates; extension is automatically detected <i></i></div></div>=dump.xyz <div class="tooltip">ATOMS<div class="right">the atom indices whose positions you would like to print out. <i></i></div></div>=<b name="eg1rna">rna</b>,<b name="eg1ions">ions</b> <span style="display:none;" id="eg1">The DUMPATOMS action with label <b></b></span>
</pre>
<p>In case you want to do it during a simulation and you only care about wrapping the ions in the <code>dump.xyz</code> file, you can use the following:</p>

<div style="width: 80%; float:left" id="value_details_eg2"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><button type="button" id="eg2_button" onclick='swapInput("eg2")'>contract shortcuts</button></div><div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested on master" /></div><div style="width: 100%; float:left" id="input_eg2"></div>
<pre style="width: 97%;" class="fragment"></pre>
<script type="text/javascript">
if (window.addEventListener) { // Mozilla, Netscape, Firefox
    window.addEventListener('load', eg2Load, false);
} else if (window.attachEvent) { // IE
    window.attachEvent('onload', eg2Load);
}
function eg2Load(event) {
       swapInput("eg2");
}
</script>
<div style="display:none;" id="eg2short">
<pre style="width: 97%;" class="fragment">
<span style="color:blue"># add some restraint that do not require molecules to be whole:</span>
<b name="eg2shorta" onclick='showPath("eg2","eg2shorta")'>a: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <div class="tooltip">ATOMS<div class="right">the four atoms involved in the torsional angle <i></i></div></div>=1,2,10,11 <span style="display:none;" id="eg2shorta">The TORSION action with label <b>a</b> calculates a single scalar value</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_r_e_s_t_r_a_i_n_t.html" style="color:green">RESTRAINT</a> <div class="tooltip">ARG<div class="right">the values the harmonic restraint acts upon. <i></i></div></div>=<b name="eg2shorta">a</b> <div class="tooltip">AT<div class="right"><b>compulsory keyword </b>
the position of the restraint <i></i></div></div>=0.0 <div class="tooltip">KAPPA<div class="right"><b>compulsory keyword ( default=0.0 )</b>
specifies that the restraint is harmonic and what the values of the force constants
on each of the variables are <i></i></div></div>=5 <span style="display:none;" id="eg2short">The RESTRAINT action with label <b></b></span>
<span style="color:blue"># then do the things that are required for dumping the trajectory</span>
<span style="color:blue"># notice that they are all done every 100 steps, so as not to</span>
<span style="color:blue"># unnecessarily overload the calculation</span>
<b name="eg2shortrna" onclick='showPath("eg2","eg2shortrna")'>rna: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_g_r_o_u_p.html" style="color:green">GROUP</a> <div class="tooltip">ATOMS<div class="right">the numerical indexes for the set of atoms in the group. <i></i></div></div>=1-100 <span style="display:none;" id="eg2shortrna">The GROUP action with label <b>rna</b> defines a group of atoms so that they can be referred to later in the input</span>
<b name="eg2shortions" onclick='showPath("eg2","eg2shortions")'>ions: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_g_r_o_u_p.html" style="color:green">GROUP</a> <div class="tooltip">ATOMS<div class="right">the numerical indexes for the set of atoms in the group. <i></i></div></div>=101-110 <span style="display:none;" id="eg2shortions">The GROUP action with label <b>ions</b> defines a group of atoms so that they can be referred to later in the input</span>
<span style="color:blue"># first make the rna molecule whole</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_w_h_o_l_e_m_o_l_e_c_u_l_e_s.html" style="color:green">WHOLEMOLECULES</a> <div class="tooltip">ENTITY0<div class="right">the atoms that make up a molecule that you wish to align. <i></i></div></div>=<b name="eg2shortrna">rna</b> <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which molecules are reassembled. <i></i></div></div>=100 <span style="display:none;" id="eg2short">The WHOLEMOLECULES action with label <b></b></span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_w_r_a_p_a_r_o_u_n_d.html" style="color:green">WRAPAROUND</a> <div class="tooltip">ATOMS<div class="right">wrapped atoms. <i></i></div></div>=<b name="eg2shortions">ions</b> <div class="tooltip">AROUND<div class="right">reference atoms. <i></i></div></div>=<b name="eg2shortrna">rna</b> <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which molecules are reassembled. <i></i></div></div>=100 <span style="display:none;" id="eg2short">The WRAPAROUND action with label <b></b></span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_d_u_m_p_a_t_o_m_s.html" style="color:green">DUMPATOMS</a> <div class="tooltip">FILE<div class="right"><b>compulsory keyword </b>
file on which to output coordinates; extension is automatically detected <i></i></div></div>=dump.xyz <div class="tooltip">ATOMS<div class="right">the atom indices whose positions you would like to print out. <i></i></div></div>=<b name="eg2shortrna">rna</b>,<b name="eg2shortions">ions</b> <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which the atoms should be output <i></i></div></div>=100 <span style="display:none;" id="eg2short">The DUMPATOMS action with label <b></b></span>
</pre>
</div>
<div style="display:none;" id="eg2long"><pre style="width: 97%;" class="fragment">
<span style="color:blue"># add some restraint that do not require molecules to be whole:</span>
<b name="eg2longa" onclick='showPath("eg2","eg2longa")'>a: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <div class="tooltip">ATOMS<div class="right">the four atoms involved in the torsional angle <i></i></div></div>=1,2,10,11 <span style="display:none;" id="eg2longa">The TORSION action with label <b>a</b> calculates a single scalar value</span>
<span style="color:blue"># then do the things that are required for dumping the trajectory</span>
<span style="color:blue"># notice that they are all done every 100 steps, so as not to</span>
<span style="color:blue"># unnecessarily overload the calculation</span>
<b name="eg2longrna" onclick='showPath("eg2","eg2longrna")'>rna: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_g_r_o_u_p.html" style="color:green">GROUP</a> <div class="tooltip">ATOMS<div class="right">the numerical indexes for the set of atoms in the group. <i></i></div></div>=1-100 <span style="display:none;" id="eg2longrna">The GROUP action with label <b>rna</b> defines a group of atoms so that they can be referred to later in the input</span>
<b name="eg2longions" onclick='showPath("eg2","eg2longions")'>ions: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_g_r_o_u_p.html" style="color:green">GROUP</a> <div class="tooltip">ATOMS<div class="right">the numerical indexes for the set of atoms in the group. <i></i></div></div>=101-110 <span style="display:none;" id="eg2longions">The GROUP action with label <b>ions</b> defines a group of atoms so that they can be referred to later in the input</span>
<span style="color:blue"># first make the rna molecule whole</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_w_h_o_l_e_m_o_l_e_c_u_l_e_s.html" style="color:green">WHOLEMOLECULES</a> <div class="tooltip">ENTITY0<div class="right">the atoms that make up a molecule that you wish to align. <i></i></div></div>=<b name="eg2longrna">rna</b> <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which molecules are reassembled. <i></i></div></div>=100 <span style="display:none;" id="eg2long">The WHOLEMOLECULES action with label <b></b></span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_w_r_a_p_a_r_o_u_n_d.html" style="color:green">WRAPAROUND</a> <div class="tooltip">ATOMS<div class="right">wrapped atoms. <i></i></div></div>=<b name="eg2longions">ions</b> <div class="tooltip">AROUND<div class="right">reference atoms. <i></i></div></div>=<b name="eg2longrna">rna</b> <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which molecules are reassembled. <i></i></div></div>=100 <span style="display:none;" id="eg2long">The WRAPAROUND action with label <b></b></span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_d_u_m_p_a_t_o_m_s.html" style="color:green">DUMPATOMS</a> <div class="tooltip">FILE<div class="right"><b>compulsory keyword </b>
file on which to output coordinates; extension is automatically detected <i></i></div></div>=dump.xyz <div class="tooltip">ATOMS<div class="right">the atom indices whose positions you would like to print out. <i></i></div></div>=<b name="eg2longrna">rna</b>,<b name="eg2longions">ions</b> <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which the atoms should be output <i></i></div></div>=100 <span style="display:none;" id="eg2long">The DUMPATOMS action with label <b></b></span>
</pre>
</div>
<p>Notice that if the biased variable requires a molecule to be whole, you might have to put just the <a class="el" href="_w_h_o_l_e_m_o_l_e_c_u_l_e_s.html">WHOLEMOLECULES</a> command before computing that variable and leave the default STRIDE=1.</p>
<p>This command instructs plumed to center all atoms around the center of mass of a solute molecule.</p>

<div style="width: 90%; float:left" id="value_details_eg3"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested on master" /></div><pre style="width: 97%;" class="fragment">
<b name="eg3solute" onclick='showPath("eg3","eg3solute")'>solute: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_g_r_o_u_p.html" style="color:green">GROUP</a> <div class="tooltip">ATOMS<div class="right">the numerical indexes for the set of atoms in the group. <i></i></div></div>=1-100 <span style="display:none;" id="eg3solute">The GROUP action with label <b>solute</b> defines a group of atoms so that they can be referred to later in the input</span>
<b name="eg3all" onclick='showPath("eg3","eg3all")'>all: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_g_r_o_u_p.html" style="color:green">GROUP</a> <div class="tooltip">ATOMS<div class="right">the numerical indexes for the set of atoms in the group. <i></i></div></div>=1-1000 <span style="display:none;" id="eg3all">The GROUP action with label <b>all</b> defines a group of atoms so that they can be referred to later in the input</span>
<span style="color:blue"># center of the solute:</span>
<span style="color:blue"># notice that since plumed 2.2 this also works if the</span>
<span style="color:blue"># solute molecule is broken</span>
<b name="eg3com" onclick='showPath("eg3","eg3com")'>com: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_c_o_m.html" style="color:green">COM</a> <div class="tooltip">ATOMS<div class="right">the list of atoms which are involved the virtual atom's definition. <i></i></div></div>=<b name="eg3solute">solute</b> <span style="display:none;" id="eg3com">The COM action with label <b>com</b> calculates the following quantities:
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr><td width="5%%"><b> Quantity </b>  </td><td><b> Description </b> </td></tr>
<tr><td width="5%%">com.x</td><td>the x coordinate of the virtual atom</td></tr>
<tr><td width="5%%">com.y</td><td>the y coordinate of the virtual atom</td></tr>
<tr><td width="5%%">com.z</td><td>the z coordinate of the virtual atom</td></tr>
<tr><td width="5%%">com.mass</td><td>the mass of the virtual atom</td></tr>
<tr><td width="5%%">com.charge</td><td>the charge of the virtual atom</td></tr>
</table>
</span>
<span style="color:blue"># notice that we wrap around a single atom. this should be fast</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_w_r_a_p_a_r_o_u_n_d.html" style="color:green">WRAPAROUND</a> <div class="tooltip">ATOMS<div class="right">wrapped atoms. <i></i></div></div>=<b name="eg3all">all</b> <div class="tooltip">AROUND<div class="right">reference atoms. <i></i></div></div>=<b name="eg3com">com</b> <span style="display:none;" id="eg3">The WRAPAROUND action with label <b></b></span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_d_u_m_p_a_t_o_m_s.html" style="color:green">DUMPATOMS</a> <div class="tooltip">FILE<div class="right"><b>compulsory keyword </b>
file on which to output coordinates; extension is automatically detected <i></i></div></div>=dump.xyz <div class="tooltip">ATOMS<div class="right">the atom indices whose positions you would like to print out. <i></i></div></div>=<b name="eg3all">all</b> <span style="display:none;" id="eg3">The DUMPATOMS action with label <b></b></span>
</pre>
<p>Notice that whereas <a class="el" href="_w_h_o_l_e_m_o_l_e_c_u_l_e_s.html">WHOLEMOLECULES</a> is designed to make molecules whole, <a class="el" href="_w_r_a_p_a_r_o_u_n_d.html">WRAPAROUND</a> can easily break molecules. In the last example, if solvent (atoms 101-1000) is made e.g. of water, then water molecules could be broken by <a class="el" href="_w_r_a_p_a_r_o_u_n_d.html">WRAPAROUND</a> (hydrogen could end up in an image and oxygen in another one). One solution is to use <a class="el" href="_w_h_o_l_e_m_o_l_e_c_u_l_e_s.html">WHOLEMOLECULES</a> on <em>all</em> the water molecules after <a class="el" href="_w_r_a_p_a_r_o_u_n_d.html">WRAPAROUND</a>. This is tedious. A better solution is to use the GROUPBY option which is going to consider the atoms listed in ATOMS as a list of groups each of size GROUPBY. The first atom of the group will be brought close to the AROUND atoms. The following atoms of the group will be just brought close to the first atom of the group. Assuming that oxygen is the first atom of each water molecules, in the following examples all the water oxygen atoms will be brought close to the solute, and all the hydrogen atoms will be kept close to their related oxygen.</p>

<div style="width: 90%; float:left" id="value_details_eg4"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/master-passing-green.svg" alt="tested on master" /></div><pre style="width: 97%;" class="fragment">
<b name="eg4solute" onclick='showPath("eg4","eg4solute")'>solute: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_g_r_o_u_p.html" style="color:green">GROUP</a> <div class="tooltip">ATOMS<div class="right">the numerical indexes for the set of atoms in the group. <i></i></div></div>=1-100 <span style="display:none;" id="eg4solute">The GROUP action with label <b>solute</b> defines a group of atoms so that they can be referred to later in the input</span>
<b name="eg4water" onclick='showPath("eg4","eg4water")'>water: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_g_r_o_u_p.html" style="color:green">GROUP</a> <div class="tooltip">ATOMS<div class="right">the numerical indexes for the set of atoms in the group. <i></i></div></div>=101-1000 <span style="display:none;" id="eg4water">The GROUP action with label <b>water</b> defines a group of atoms so that they can be referred to later in the input</span>
<b name="eg4com" onclick='showPath("eg4","eg4com")'>com: </b><a href="https://www.plumed.org/doc-master/user-doc/html/_c_o_m.html" style="color:green">COM</a> <div class="tooltip">ATOMS<div class="right">the list of atoms which are involved the virtual atom's definition. <i></i></div></div>=<b name="eg4solute">solute</b> <span style="display:none;" id="eg4com">The COM action with label <b>com</b> calculates the following quantities:
<table  align="center" frame="void" width="95%%" cellpadding="5%%">
<tr><td width="5%%"><b> Quantity </b>  </td><td><b> Description </b> </td></tr>
<tr><td width="5%%">com.x</td><td>the x coordinate of the virtual atom</td></tr>
<tr><td width="5%%">com.y</td><td>the y coordinate of the virtual atom</td></tr>
<tr><td width="5%%">com.z</td><td>the z coordinate of the virtual atom</td></tr>
<tr><td width="5%%">com.mass</td><td>the mass of the virtual atom</td></tr>
<tr><td width="5%%">com.charge</td><td>the charge of the virtual atom</td></tr>
</table>
</span>
<span style="color:blue"># notice that we wrap around a single atom. this should be fast</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_w_r_a_p_a_r_o_u_n_d.html" style="color:green">WRAPAROUND</a> <div class="tooltip">ATOMS<div class="right">wrapped atoms. <i></i></div></div>=<b name="eg4solute">solute</b> <div class="tooltip">AROUND<div class="right">reference atoms. <i></i></div></div>=<b name="eg4com">com</b> <span style="display:none;" id="eg4">The WRAPAROUND action with label <b></b></span>
<span style="color:blue"># notice that we wrap around a single atom. this should be fast</span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_w_r_a_p_a_r_o_u_n_d.html" style="color:green">WRAPAROUND</a> <div class="tooltip">ATOMS<div class="right">wrapped atoms. <i></i></div></div>=<b name="eg4water">water</b> <div class="tooltip">AROUND<div class="right">reference atoms. <i></i></div></div>=<b name="eg4com">com</b> <div class="tooltip">GROUPBY<div class="right"><b>compulsory keyword ( default=1 )</b>
group atoms so as not to break molecules <i></i></div></div>=3 <span style="display:none;" id="eg4">The WRAPAROUND action with label <b></b></span>
<a href="https://www.plumed.org/doc-master/user-doc/html/_d_u_m_p_a_t_o_m_s.html" style="color:green">DUMPATOMS</a> <div class="tooltip">FILE<div class="right"><b>compulsory keyword </b>
file on which to output coordinates; extension is automatically detected <i></i></div></div>=dump.xyz <div class="tooltip">ATOMS<div class="right">the atom indices whose positions you would like to print out. <i></i></div></div>=<b name="eg4solute">solute</b>,<b name="eg4water">water</b> <span style="display:none;" id="eg4">The DUMPATOMS action with label <b></b></span>
</pre>
<dl class="section user"><dt>Glossary of keywords and components</dt><dd></dd></dl>
<dl class="section user"><dt>The atoms involved can be specified using</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> AROUND </b> </td><td>reference atoms. For more information on how to specify lists of atoms see <a class="el" href="_group.html">Groups and Virtual Atoms</a>   </td></tr>
<tr>
<td width="15%"><b> ATOMS </b> </td><td>wrapped atoms. For more information on how to specify lists of atoms see <a class="el" href="_group.html">Groups and Virtual Atoms</a>   </td></tr>
</table>
<dl class="section user"><dt>Compulsory keywords</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> STRIDE </b> </td><td>( default=1 ) the frequency with which molecules are reassembled. Unless you are completely certain about what you are doing leave this set equal to 1!   </td></tr>
<tr>
<td width="15%"><b> GROUPBY </b> </td><td>( default=1 ) group atoms so as not to break molecules   </td></tr>
</table>
<dl class="section user"><dt>Options</dt><dd></dd></dl>
<table align="center" frame="void" width="95%%" cellpadding="5%%">
<tr>
<td width="15%"><b> PAIR </b> </td><td><p class="starttd">( default=off ) Pair atoms in AROUND and ATOMS groups  </p>
<p class="endtd"></p>
</td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="colvarintro.html">Collective Variables</a></li><li class="navelem"><a class="el" href="_group.html">Groups and Virtual Atoms</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
